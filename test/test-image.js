"use strict";

const {Image} = require('../build/CanvasLite.js');

function test_load_data_uri(datauri)
{
    const img = new Image();
    img.onload = () => console.log('Data URI loaded');
    img.onerror = (e) => console.log(e);
    img.src = datauri;
}
function test_load_file_path(filepath)
{
    const img = new Image();
    img.onload = () => console.log('File Path loaded');
    img.onerror = (e) => console.log(e);
    img.src = filepath;
}
function test_load_buffer(filepath)
{
    const img = new Image();
    img.onload = () => console.log('Buffer loaded');
    img.onerror = (e) => console.log(e);
    require('fs').readFile(filepath, (error, buffer) => {
        if (error) return console.log(error);
        img.src = buffer;
    });
}

test_load_file_path(__dirname + '/peace.png');
test_load_buffer(__dirname + '/peace.png');
test_load_data_uri('data:image/png;base64,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');
