/**
*   CanvasLite
*   an html canvas implementation in pure JavaScript
*
*   @version 1.0.0 (2025-05-10 16:53:01)
*   https://github.com/foo123/CanvasLite
*
**/!function(e,n,t){"use strict";"object"==typeof module&&module.exports?module.exports=t.call(e):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["module"],function(n){return t.call(e)}):n in e||(e[n]=t.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[n]})}("undefined"!=typeof self?self:this,"CanvasLite",function(e){"use strict";var n="prototype",R=Object.defineProperty,f=Object[n].hasOwnProperty,t=Object[n].toString,c="undefined"!=typeof global&&"[object global]"===t.call(global),o="undefined"!=typeof window&&"[object Window]"===t.call(window),rn=Math,an=1/0,r=Number.EPSILON,a=rn.sqrt(2),G=isNaN,q=isFinite,nn=function(n){return!G(n=+n)&&q(n)&&0<n},d=rn.PI,x=2*d,l=6,p=a,m=.5,O="undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:"undefined"!=typeof Uint8Array?Uint8Array:Array,U=[0,0,0,0],A=/[MLHVCSQTAZ]/gi,D=/-?(?:(?:\d+\.\d+)|(?:\.\d+)|(?:\d+))/g;function _(n,e,t,r){var a;if(!(this instanceof _))return new _(n,e,t,r);r=r||(t&&t.$target?_.getRGBAFrom(t.$target):function(n,e){return U}),a=new v(n,e,t,r),R(this,"width",{get:function(){return n},set:function(n){}}),R(this,"height",{get:function(){return e},set:function(n){}}),this.getContext=function(n){if("2d"===n)return a;W('Unsupported context "'+n+'"')}}function v(S,L,m,d){var r,t,e,a,i,o,l,u,s,f,c,h,E,p,g,y,D,v,b,C,z=this,w=null,x=null,k=null,T=function(){w={},0<p[3]&&(E||g||y)&&(x={})},I=function(n){var e,t,r,a,o;if(x){for(e in x=B(E,x))t=x[e],a=+(r=e.split(","))[0],o=+r[1],0<t&&0<=a&&a<S&&0<=o&&o<L&&0<(t*=v*(k?k[e]||0:1))&&P(a,o,t,null,p);x=null}for(e in w)t=w[e],a=+(r=e.split(","))[0],o=+r[1],0<t&&0<=a&&a<S&&0<=o&&o<L&&0<(t*=v*(k?k[e]||0:1))&&P(a,o,t,n);w=null},F=function(n,e,t){var r;!G(n)&&!G(e)&&-E<=n&&n<S+E&&-E<=e&&e<L+E&&0<t&&0<v&&(r=String(n)+","+String(e),(w[r]||0)<t)&&(w[r]=t,x)&&(x[String(n+g)+","+String(e+y)]=t)},A=function(n,e,t){!G(n)&&!G(e)&&-E<=n&&n<S+E&&-E<=e&&e<L+E&&0<t&&0<v&&(n=String(n)+","+String(e),(w[n]||0)<(t*=k?k[n]||0:1))&&(w[n]=t)},P=function(n,e,t,r,a){r="clear"===b?U:r?r(n,e):a,a=3<r.length?r[3]:1;m(n,e,r[0],r[1],r[2],a*t,b)},n=function(n){r=_.getRGBAFrom([0,0,0,1]),t=_.getRGBAFrom([0,0,0,1]),k=x=w=null,l="butt",u="miter",s=10,f=1,c=[],p=U,y=g=E=h=0,D=X.EYE(),v=1,b="source-over",e=[],C=new N(D),n||z.clearRect(0,0,S,L)},B=function(n,e){if(n)for(var t,r,a,o,i,l,u,s,f,c,n=n/2,n=rn.floor(rn.max(rn.sqrt(12*n*n/3+1),3)),h=n>>1,d=1+h,p=n*n,m=d+S+d,g=m*(d+L+d),y=new Array(g),v=1;v<=3;++v){for(i=0,r=-d;i<g;i+=m,++r)for(a=","+String(r),o=c=0,t=-d;o<m;++o,++t)c+=e[String(t)+a]||0,y[o+i]=c+(0<i?y[o+i-m]:0);for(e={},r=0,u=(d-h-1)*m,f=(d+h)*m;r<L;++r,u+=m,f+=m)for(a=","+String(r),t=0,l=d-h-1,s=d+h;t<S;++t,++l,++s)0<(c=((y[f+s]||0)-(y[f+l]||0)-(y[u+s]||0)+(y[u+l]||0))/p)&&(e[String(t)+a]=.9*c)}return e};R(z,"strokeStyle",{get:function(){return""},set:function(n){r=n instanceof Q||n instanceof $?n.getColorAt.bind(n):_.getRGBAFrom((n.substr&&n.split?Bn(n):n)||U)}}),R(z,"fillStyle",{get:function(){return""},set:function(n){t=n instanceof Q||n instanceof $?n.getColorAt.bind(n):_.getRGBAFrom((n.substr&&n.split?Bn(n):n)||U)}}),R(z,"lineWidth",{get:function(){return f},set:function(n){nn(n=+n)&&(f=n)}}),R(z,"lineCap",{get:function(){return l},set:function(n){n=String(n).toLowerCase(),-1!==["butt","square","round"].indexOf(n)&&(l=n)}}),R(z,"lineJoin",{get:function(){return u},set:function(n){n=String(n).toLowerCase(),-1!==["miter","bevel","round"].indexOf(n)&&(u=n)}}),R(z,"miterLimit",{get:function(){return s},set:function(n){!G(n=+n)&&q(n)&&0<=n&&(s=n)}}),R(z,"lineDashOffset",{get:function(){return h},set:function(n){!G(n=+n)&&q(n)&&(h=n)}}),R(z,"lineDash",{get:function(){return c.slice()},set:function(n){(n=1&(n=[].concat(n)).length?n.concat(n):n).filter(nn).length===n.length&&(c=n)}}),z.getLineDash=function(){return z.lineDash},z.setLineDash=function(n){z.lineDash=n},R(z,"shadowColor",{get:function(){return""},set:function(n){n&&(p=n.substr&&n.split?Bn(n):n.slice()).length<4&&p.push(1)}}),R(z,"shadowBlur",{get:function(){return E},set:function(n){!G(n)&&q(n)&&0<=n&&(E=rn.round(n))}}),R(z,"shadowOffsetX",{get:function(){return g},set:function(n){!G(n)&&q(n)&&(g=rn.round(n))}}),R(z,"shadowOffsetY",{get:function(){return y},set:function(n){!G(n)&&q(n)&&(y=rn.round(n))}}),R(z,"globalAlpha",{get:function(){return v},set:function(n){!G(n=+n)&&0<=n&&n<=1&&(v=n)}}),R(z,"globalCompositeOperation",{get:function(){return b},set:function(n){b=String(n)}}),z.save=function(){(e=e||[]).push([r,t,k,l,u,s,f,c,h,D,v,b,p,E,g,y])},z.restore=function(){var n;e&&e.length&&(n=e.pop(),r=n[0],t=n[1],k=n[2],l=n[3],u=n[4],s=n[5],f=n[6],c=n[7],h=n[8],C.transform=D=n[9],v=n[10],b=n[11],p=n[12],E=n[13],g=n[14],y=n[15])},z.reset=function(){n()},z.scale=function(n,e){C.transform=D=D.mul(X.scale(n,e))},z.rotate=function(n){C.transform=D=D.mul(X.rotate(n||0))},z.translate=function(n,e){C.transform=D=D.mul(X.translate(n||0,e||0))},z.transform=function(n,e,t,r,a,o){C.transform=D=D.mul(new X(n,t,a,e,r,o))},z.getTransform=function(){return D.clone()},z.setTransform=function(n,e,t,r,a,o){1<arguments.length?D=new X(n,t,a,e,r,o):n&&null!=n.a&&null!=n.f&&(D=new X(n.a,n.c,n.e,n.b,n.d,n.f)),C.transform=D},z.resetTransform=function(){C.transform=D=X.EYE()},z.beginPath=function(){C=new N(D)},z.closePath=function(){C.closePath()},z.moveTo=function(n,e){C.moveTo(n,e)},z.lineTo=function(n,e){C.lineTo(n,e)},z.rect=function(n,e,t,r){C.rect(n,e,t,r)},z.roundRect=function(n,e,t,r){C.roundRect.apply(C,arguments)},z.arc=function(n,e,t,r,a,o){C.arc(n,e,t,r,a,o)},z.ellipse=function(n,e,t,r,a,o,i,l){C.ellipse(n,e,t,r,a,o,i,l)},z.arcTo=function(n,e,t,r,a){C.arcTo(n,e,t,r,a)},z.quadraticCurveTo=function(n,e,t,r){C.quadraticCurveTo(n,e,t,r)},z.bezierCurveTo=function(n,e,t,r,a,o){C.bezierCurveTo(n,e,t,r,a,o)},z.clearRect=function(n,e,t,r){var a=b,o=v;b="clear",v=1,z.fill(new N(D).rect(n,e,t,r),"evenodd"),b=a,v=o},z.strokeRect=function(n,e,t,r){0<f&&z.stroke(new N(D).rect(n,e,t,r))},z.fillRect=function(n,e,t,r){z.fill(new N(D).rect(n,e,t,r),"evenodd")},z.stroke=function(n){var e,t;0<f&&(t=(n=n||C).transform,e=rn.abs(t.sx),t=rn.abs(t.sy),T(),tn(F,n,f,c,h,l,u,s,e,t,0-E,0-E,S-1+E,L-1+E),I(r))},a=function(n,e){var t=0-E,r=0-E,a=S-1+E,o=L-1+E,i=(tn(F,n,.5,[],0,"butt","bevel",0,1,1,t,r,a,o),F),l=t,t=r,u=a,r=o,s=n._sd;if(s.length){var f,c,h,d,p,m,g,y,v,b,w,x,k,C,T=s.length,I=new Array(T),A=s.ymin,P=s.ymax,B=0,D="evenodd"===e;for(A=rn.max(t,rn.round(A)),P=rn.min(r,rn.round(P));A<=P;++A){for(;B<T&&s[B][3]<A;)++B;if(T<=B)break;if((h=s[B])[1]>A)A=rn.floor(h[1]);else{for(b=h[0],w=h[2],p=h[1],m=h[3],v=j(p,m)?(x=!1,y=rn.min(b,w),rn.max(b,w)):y=x=(w-b)*(A-p)/(m-p)+b,h[8]=x,h[9]=0,I[0]=h,f=B+(c=1);f<T&&s[f][1]<=A;++f)(h=s[f])[3]>=A&&(b=h[0],w=h[2],p=h[1],m=h[3],v=j(p,m)?(x=!1,y=rn.min(y,b,w),rn.max(v,b,w)):(x=(w-b)*(A-p)/(m-p)+b,y=rn.min(y,x),rn.max(v,x)),h[8]=x,h[9]=0,I[c++]=h);if(d=dn(I,c),!(c<d+2||(y=rn.max(l,rn.round(y+.5)),(v=rn.min(u,rn.round(v-.5)))<y)))if(D)for(g=y;g<=v;++g){for(C=k=!1,f=0;f<c;++f)(h=I[f])[9]||!1!==(x=h[8])&&(x<g&&(k=!k),g<x)&&(C=!C);k&&C&&i(g,A,1)}else for(g=y;g<=v;++g){for(f=C=k=0;f<c;++f)(h=I[f])[9]||!1!==(x=h[8])&&(x<g||g<x)&&(d=pn(g,A,h[h[4]<0?2:0],h[h[4]<0?3:1],h[h[4]<0?0:2],h[h[4]<0?1:3]),x<g&&(k+=d),g<x)&&(C+=d);k&&C&&i(g,A,1)}}}}},z.fill=function(n,e){!arguments.length||null==n&&null==e?(n=C,e="nonzero"):1!==arguments.length&&null!=e||(n instanceof N?e="nonzero":(e=n,n=C)),e=String(e||"nonzero").toLowerCase(),n=n||C,T(),a(n,e="evenodd"!==e?"nonzero":e),I(t)},z.clip=function(n,e){!arguments.length||null==n&&null==e?(n=C,e="nonzero"):1!==arguments.length&&null!=e||(n instanceof N?e="nonzero":(e=n,n=C)),"evenodd"!==(e=String(e||"nonzero").toLowerCase())&&(e="nonzero"),(n=n||C)===C&&(C=new N(D));var t=F;F=A,w={},a(n,e),k=w,w=null,F=t},z.isPointInStroke=function(n,r,a){arguments.length<3&&(a=r,r=n,n=C),r=r||0,a=a||0,n=n||C,r=rn.round(r),a=rn.round(a);var o=String(r)+","+String(a),i=!1;return tn(function(n,e,t){r===n&&a===e&&0<(t*=k?k[o]||0:1)&&(i=!0)},n,f,c,h,l,u,s,n.transform.sx,n.transform.sy,null,null,null,null),i},z.isPointInPath=function(n,e,t,r){n instanceof N||(r=t,t=e,e=n,n=C),"evenodd"!==(r=String(r||"nonzero").toLowerCase())&&(r="nonzero");var a=e||0,o=t||0,e=r,i=(t=n||C)._sd;if(!(!i.length||o<i.ymin||o>i.ymax)){for(var l,u,s,f,c,h,d,p,m,g,y,v,b,w=i.length,x=new Array(w),k=0,t="evenodd"===e;k<w&&i[k][3]<o;)++k;if(!(w<=k||(s=i[k])[1]>o)){for(m=s[0],g=s[2],c=s[1],h=s[3],p=j(c,h)?(y=!1,d=rn.min(m,g),rn.max(m,g)):d=y=(g-m)*(o-c)/(h-c)+m,s[8]=y,s[9]=0,x[0]=s,l=k+(u=1);l<w&&i[l][1]<=o;++l)(s=i[l])[3]>=o&&(m=s[0],g=s[2],c=s[1],h=s[3],p=j(c,h)?(y=!1,d=rn.min(d,m,g),rn.max(p,m,g)):(y=(g-m)*(o-c)/(h-c)+m,d=rn.min(d,y),rn.max(p,y)),s[8]=y,s[9]=0,x[u++]=s);if(f=dn(x,u),u<f+2)return!1!==x[0][8]&&J(a,x[0][8]);if(!(p<d||a<d||p<a)){if(t)for(b=v=!1,l=0;l<u;++l)(s=x[l])[9]||!1!==(y=s[8])&&(y<=a&&(v=!v),a<=y)&&(b=!b);else for(l=b=v=0;l<u;++l)(s=x[l])[9]||!1!==(y=s[8])&&(y<a||a<y)&&(f=pn(a,o,s[s[4]<0?2:0],s[s[4]<0?3:1],s[s[4]<0?0:2],s[s[4]<0?1:3]),y<=a&&(v+=f),a<=y)&&(b+=f);if(v&&b)return!0}}}return!1},i=function(n,e,t,r,a,o,i){if(r=rn.min(r,e-1),a=rn.min(a,t-1),o=rn.min(o,e-1),i=rn.min(i,t-1),o<r||i<a)return new O(0);var l,u,s,f,c,h=new O((o-r+1)*(i-a+1)<<2);if(n)for(u=r,s=a,f=0;s<=i&&!(o<u&&(u=r,i<++s));f+=4,++u)h[f]=n[c=s*e+u<<2],h[f+1]=n[1+c],h[f+2]=n[2+c],h[f+3]=n[3+c];else for(u=r,s=a,f=0;s<=i&&!(o<u&&(u=r,i<++s));f+=4,++u)l=d(u,s),h[f]=H(l[0],0,255),h[f+1]=H(l[1],0,255),h[f+2]=H(l[2],0,255),h[f+3]=H(rn.round(255*l[3]),0,255);return h},o=function(n,e,t,r,a,o,i,l,u,s,f,c){var h,d,p;for(i=rn.min(i,a-1),l=rn.min(l,o-1),f=rn.min(f,e-1),c=rn.min(c,t-1),u=rn.min(u,a-1),s=rn.min(s,o-1),f-=i,c-=l,d=i,p=l;p<=s&&!(u<d&&(d=i,s<++p));++d)t<=p+c||e<=d+f||m(d+f,p+c,r[h=p*a+d<<2],r[1+h],r[2+h],r[3+h]/255,"copy")},z.drawImage=function(n,m,g,y,v,b,w,x,k){(n=(n=n instanceof K?n.getContext("2d").getImageData(0,0,n.width,n.height):n)&&"function"==typeof n.getImageData?n.getImageData():n)&&n.data||W("Invalid image data in drawImage");var C,T,I,A=n.width,P=n.height,B=n.data,n=arguments.length,e=t;A&&P||W("Invalid image data in drawImage"),m=m||0,g=g||0,n<4&&(y=A,v=P),n<6&&(b=m,w=g,x=y,k=v),C=D.inv(),T=[0,0],I=[0,0,0,0],t=function(n,e){var t,r,a,o,i,l,u,s,f,c,h,d,p;return C.transform(n,e,T),n=m+(T[0]-b)*y/x,e=g+(T[1]-w)*v/k,-1<n&&n<A&&-1<e&&e<P?(t=rn.floor(n),r=rn.floor(e),a=rn.abs(n-t),o=rn.abs(e-r),l=[i=0,0,0,0],u=[0,0,0,0],s=[0,0,0,0],f=[0,0,0,0],p=d=h=c=0,e=r,c=(1-a)*(1-o),h=a*(1-o),d=o*(1-a),p=a*o,0<=(n=t)&&0<=e&&n<A&&e<P&&(l[0]=B[i=n+A*e<<2],l[1]=B[i+1],l[2]=B[i+2],l[3]=B[i+3]),0<=n+1&&0<=e&&n+1<A&&e<P&&(u[0]=B[i=n+1+A*e<<2],u[1]=B[i+1],u[2]=B[i+2],u[3]=B[i+3]),0<=n&&0<=e+1&&n<A&&e+1<P&&(s[0]=B[i=n+A*(e+1)<<2],s[1]=B[i+1],s[2]=B[i+2],s[3]=B[i+3]),0<=n+1&&0<=e+1&&n+1<A&&e+1<P&&(f[0]=B[i=n+1+A*(e+1)<<2],f[1]=B[i+1],f[2]=B[i+2],f[3]=B[i+3]),I[0]=H(rn.round(l[0]*c+u[0]*h+s[0]*d+f[0]*p),0,255),I[1]=H(rn.round(l[1]*c+u[1]*h+s[1]*d+f[1]*p),0,255),I[2]=H(rn.round(l[2]*c+u[2]*h+s[2]*d+f[2]*p),0,255),I[3]=H(rn.round(l[3]*c+u[3]*h+s[3]*d+f[3]*p),0,255)/255,I):U},z.fillRect(b,w,x,k),t=e},z.getImageData=function(n,e,t,r){var a=S,o=L;return null==e&&(e=0),null==t&&(t=a),null==r&&(r=o),n=rn.max(0,rn.min(n=null==n?0:n,a-1)),e=rn.max(0,rn.min(e,o-1)),t=rn.min(n+t-1,a-1),r=rn.min(e+r-1,o-1),{data:i(null,a,o,n,e,t,r),width:t-n+1,height:r-e+1}},z.putImageData=function(n,e,t){n&&n.data||W("Invalid image data in putImageData");var r=n.width,a=n.height;o(0,S,L,n.data,r,a,0,0,r-1,a-1,e=null==e?0:e,t=null==t?0:t)},n(!0)}function N(n,c){var e,f,t,h,d,p,m,g,y,v=this,s=!0,b=[],w=null;R(v,"transform",{get:function(){return c.clone()},set:function(n){c=n}}),R(v,"_d",{get:function(){return b},set:function(n){}}),R(v,"_sd",{get:function(){return w=w||hn(b)},set:function(n){}}),v.moveTo=function(n,e){n=C([n,e],c);return n&&(b.push(n),s=!1),v},v.closePath=function(){var n,e,t,r,a,o;return b.length&&2<b[b.length-1].length&&(n=+b[b.length-1][0],e=b[b.length-1][1],t=+b[b.length-1][2],r=b[b.length-1][3],a=+b[b.length-1][b[b.length-1].length-2],o=b[b.length-1][b[b.length-1].length-1],J(n,a,1e-6)&&J(e,o,1e-6)?b[b.length-1][b[b.length-1].length-2]=new k(a,{join:[t,r]}):b[b.length-1].push(new k(n,{join:[t,r]}),e),b.push([n,e]),s=!1,w=null),v},v.lineTo=function(n,e){n=C([n,e],c);return n&&(s?(b.push(n),s=!1):(b[b.length-1].push(n[0],n[1]),w=null)),v},v.rect=function(n,e,t,r){t=C([n,e,n+t,e,n+t,e+r,n,e+r],c);return t?(t[0]=new k(+t[0],{lineCap:"butt",lineJoin:"miter"}),b.length&&b[b.length-1].length<=2?b[b.length-1]=t:b.push(t),w=null,v.closePath()):v},v.roundRect=function(n,e,t,r){var a,o,i,l,u,s,f=C([n,e,t,r]);return f?(((s=(arguments[4]&&arguments[4].push?arguments[4]:[].slice.call(arguments,4)).filter(function(n){return 0<n})).length<1||4<s.length)&&W("Invalid radii in roundRect"),4===s.length?(a=s[0],o=s[1],i=s[2],l=s[3]):3===s.length?(a=s[0],o=s[1],l=s[1],i=s[2]):l=2===s.length?(a=s[0],i=s[0],o=s[1],s[1]):(a=s[0],o=s[0],i=s[0],s[0]),t<0&&(n+=t,t=-t,u=a,a=o,o=u,u=l,l=i,i=u),r<0&&(e+=r,r=-r,u=a,a=l,l=u,u=o,o=i,i=u),(s=rn.min(t/(a+o),r/(o+i),t/(i+l),r/(a+l)))<1&&(a*=s,o*=s,l*=s,i*=s),T(f=[],n+a,e,c),T(f,n+t-o,e,c),S(f,n+t-o,e,n+t,e,n+t,e+o,o,c),T(f,n+t,e+r-i,c),S(f,n+t,e+r-i,n+t,e+r,n+t-i,e+r,i,c),T(f,n+l,e+r,c),S(f,n+l,e+r,n,e+r,n,e+r-l,l,c),T(f,n,e+a,c),S(f,n,e+a,n,e,n+a,e,a,c),f[0]=new k(+f[0],{lineCap:"butt",lineJoin:"bevel"}),b.push(f),w=null,v.closePath()):v},v.arc=function(n,e,t,r,a,o){var i=C([n,e,t,r,a]);return i&&(t<0&&W("Negative radius in arc"),(i=en(n,e,t,t,0,r,a,o,c))[0]=new k(+i[0],{type:"arc",lineCap:!0,lineJoin:"bevel"}),i[i.length-2]=new k(+i[i.length-2],{type:"arc",lineCap:!0,lineJoin:!0}),s?(b.push(i),s=!1):b[b.length-1].push.apply(b[b.length-1],i),w=null),v},v.ellipse=function(n,e,t,r,a,o,i,l){var u=C([n,e,t,r,a,o,i]);return u&&((t<0||r<0)&&W("Negative radius in ellipse"),(u=en(n,e,t,r,a,o,i,l,c))[0]=new k(+u[0],{type:"arc",lineCap:!0,lineJoin:"bevel"}),u[u.length-2]=new k(+u[u.length-2],{type:"arc",lineCap:!0,lineJoin:!0}),s?(b.push(u),s=!1):b[b.length-1].push.apply(b[b.length-1],u),w=null),v},v.arcTo=function(n,e,t,r,a){n=C([n,e,t,r,a]);return n&&(a<0&&W("Negative radius in arcTo"),s&&(b.push(c.transform(n[0],n[1])),s=!1),(n=L((e=c.inv().transform(+b[b.length-1][b[b.length-1].length-2],b[b.length-1][b[b.length-1].length-1]))[0],e[1],n[0],n[1],n[2],n[3],a,c))[0]=new k(+n[0],{type:"arc",lineCap:!0,lineJoin:"bevel"}),n[n.length-2]=new k(+n[n.length-2],{type:"arc",lineCap:!0,lineJoin:!0}),b[b.length-1].push.apply(b[b.length-1],n),w=null),v},v.quadraticCurveTo=function(n,e,t,r){n=C([n,e,t,r],c);return n&&(s&&(b.push([n[0],n[1]]),s=!1),e=b[b.length-1].pop(),(n=E([+b[b.length-1].pop(),e,n[0],n[1],n[2],n[3]],c))[0]=new k(+n[0],{type:"bezier",lineCap:!0,lineJoin:"bevel"}),n[n.length-2]=new k(+n[n.length-2],{type:"bezier",lineCap:!0,lineJoin:!0}),b[b.length-1].push.apply(b[b.length-1],n),w=null),v},v.bezierCurveTo=function(n,e,t,r,a,o){n=C([n,e,t,r,a,o],c);return n&&(s&&(b.push([n[0],n[1]]),s=!1),e=b[b.length-1].pop(),(n=E([+b[b.length-1].pop(),e,n[0],n[1],n[2],n[3],n[4],n[5]],c))[0]=new k(+n[0],{type:"bezier",lineCap:!0,lineJoin:"bevel"}),n[n.length-2]=new k(+n[n.length-2],{type:"bezier",lineCap:!0,lineJoin:!0}),b[b.length-1].push.apply(b[b.length-1],n),w=null),v},v.addPath=function(n){return n instanceof N&&(e(n),w=null),v},v.dispose=function(){w=b=null},e=function(n){var t;n._d.reduce(function(n,e){return e&&e.length&&2<e.length&&(t=[+e[e.length-2],e[e.length-1]],n.push(e.slice())),n},b),s=!t||(b.push(t),!1)},1===arguments.length&&(n instanceof X?(c=n,n=null):c=null),c=(c=c instanceof X?c:null)||X.EYE(),n&&(n instanceof N?e(n):(n=n,f=v,t=I(String(n)).match(A),h=n.split(A),m=null,y=g=!(p=[(d=[0,0])[0],d[1]]),t&&t.forEach(function(n,e){var t,r,a,o,i,l,u=n===n.toLowerCase(),s=(I(h[e+1]||"").match(D)||[]).map(mn);switch(n.toUpperCase()){case"M":for(l=!1;2<=s.length;)l?(t=[d[0],d[1]],r=[(u?t[0]:0)+s.shift(),(u?t[1]:0)+s.shift()],d[0]=r[0],d[1]=r[1],f.lineTo(d[0],d[1]),g=!0):(d[0]=(u?d[0]:0)+s.shift(),d[1]=(u?d[1]:0)+s.shift(),p=[d[0],d[1]],f.moveTo(d[0],d[1]),y=!0),l=!0;m=null;break;case"H":for(g=y||g;1<=s.length;)t=[d[0],d[1]],r=[(u?t[0]:0)+s.shift(),t[1]],d[0]=r[0],d[1]=r[1],f.lineTo(d[0],d[1]),y&&(g=!0),y=!0;m=null;break;case"V":for(g=y||g;1<=s.length;)r=[(t=[d[0],d[1]])[0],(u?t[1]:0)+s.shift()],d[0]=r[0],d[1]=r[1],f.lineTo(d[0],d[1]),y&&(g=!0),y=!0;m=null;break;case"L":for(g=y||g;2<=s.length;)t=[d[0],d[1]],r=[(u?t[0]:0)+s.shift(),(u?t[1]:0)+s.shift()],d[0]=r[0],d[1]=r[1],f.lineTo(d[0],d[1]),y&&(g=!0),y=!0;m=null;break;case"A":for(y=g=!0;7<=s.length;)i={start:null,end:null,radiusX:s.shift(),radiusY:s.shift(),angle:s.shift(),largeArc:s.shift(),sweep:s.shift()},t=[d[0],d[1]],r=[(u?t[0]:0)+s.shift(),(u?t[1]:0)+s.shift()],d[0]=r[0],d[1]=r[1],i.start=t,i.end=r,f.ellipse.apply(f,function(n,e,t,r,a,o,i,l,u){var s=u?rn.cos(u):1,f=u?rn.sin(u):0,c=s*(n-t)/2+f*(e-r)/2,h=-f*(n-t)/2+s*(e-r)/2,d=c*c,p=h*h,m=i*i,g=l*l,y=d/m+p/g;1<y&&(y=rn.sqrt(y),m=(i*=y)*i,g=(l*=y)*l);y=rn.sqrt(rn.abs((m*g-m*p-g*d)/(m*p+g*d)))*(a===o?-1:1),m=y*i*h/l,p=-y*l*c/i,g=s*m-f*p+(n+t)/2,d=f*m+s*p+(e+r)/2,a=V(z(1,0,(c-m)/i,(h-p)/l)),y=z((c-m)/i,(h-p)/l,(-c-m)/i,(-h-p)/l);y-=rn.floor(y/x)*x,!o&&0<y&&(y-=x);o&&y<0&&(y+=x);return[g,d,i,l,u,a,a+y,!o]}(i.start[0],i.start[1],i.end[0],i.end[1],i.largeArc,i.sweep,i.radiusX,i.radiusY,i.angle));m=null;break;case"Q":for(y=g=!0;4<=s.length;)t=[d[0],d[1]],r=[(u?t[0]:0)+s.shift(),(u?t[1]:0)+s.shift()],a=[(u?t[0]:0)+s.shift(),(u?t[1]:0)+s.shift()],d[0]=a[0],d[1]=a[1],f.quadraticCurveTo(r[0],r[1],a[0],a[1]),m=["Q",t,r,a];break;case"T":for(y=g=!0;2<=s.length;)t=[d[0],d[1]],a=[(u?t[0]:0)+s.shift(),(u?t[1]:0)+s.shift()],r=m&&"Q"===m[0]?[2*t[0]-m[2][0],2*t[1]-m[2][1]]:[t[0],t[1]],d[0]=a[0],d[1]=a[1],f.quadraticCurveTo(r[0],r[1],a[0],a[1]),m=["Q",t,r,a];break;case"C":for(y=g=!0;6<=s.length;)t=[d[0],d[1]],r=[(u?t[0]:0)+s.shift(),(u?t[1]:0)+s.shift()],a=[(u?t[0]:0)+s.shift(),(u?t[1]:0)+s.shift()],o=[(u?t[0]:0)+s.shift(),(u?t[1]:0)+s.shift()],d[0]=o[0],d[1]=o[1],f.bezierCurveTo(r[0],r[1],a[0],a[1],o[0],o[1]),m=["C",t,r,a,o];break;case"S":for(y=g=!0;4<=s.length;)t=[d[0],d[1]],a=[(u?t[0]:0)+s.shift(),(u?t[1]:0)+s.shift()],o=[(u?t[0]:0)+s.shift(),(u?t[1]:0)+s.shift()],r=m&&"C"===m[0]?[2*t[0]-m[3][0],2*t[1]-m[3][1]]:[t[0],t[1]],d[0]=o[0],d[1]=o[1],f.bezierCurveTo(r[0],r[1],a[0],a[1],o[0],o[1]),m=["C",t,r,a,o];break;case"Z":t=[d[0],d[1]],r=[p[0],p[1]],d[0]=r[0],d[1]=r[1],p=[d[0],d[1]],f.closePath(),y=g=!1,m=null}}),g&&f.moveTo(d[0],d[1])))}function X(n,e,t,r,a,o){var i=this,l=1,u=1;arguments.length&&(i.m11=n,i.m12=e,i.m13=t,i.m21=r,i.m22=a,i.m23=o),R(i,"a",{get:function(){return i.m11},set:function(n){i.m11=l=n}}),R(i,"c",{get:function(){return i.m12},set:function(n){i.m12=n}}),R(i,"e",{get:function(){return i.m13},set:function(n){i.m13=n}}),R(i,"b",{get:function(){return i.m21},set:function(n){i.m21=n}}),R(i,"d",{get:function(){return i.m22},set:function(n){i.m22=u=n}}),R(i,"f",{get:function(){return i.m23},set:function(n){i.m23=n}}),R(i,"is2D",{get:function(){return!0},set:function(n){}}),R(i,"isIdentity",{get:function(){return j(i.m11,1)&&j(i.m12,0)&&j(i.m13,0)&&j(i.m21,0)&&j(i.m22,1)&&j(i.m23,0)},set:function(n){}}),R(i,"sx",{get:function(){return l},set:function(n){l*=n}}),R(i,"sy",{get:function(){return u},set:function(n){u*=n}})}function k(n,e){this.value=n,this.params=e||null}function C(n,e){for(var t,r=0,a=n.length;r<a;++r)if(G(n[r])||!q(n[r]))return null;if(e)for(t=[0,0],r=0;r<a;r+=2)e.transform(n[r],n[r+1],t),n[r]=t[0],n[r+1]=t[1];return n}function T(n,e,t,r){r=r?r.transform(e,t):[e,t];n.push(r[0],r[1])}function S(n,e,t,r,a,o,i,l,u){n.push.apply(n,L(e,t,r,a,o,i,l,u))}function ln(){return this.v}function un(n,e,t,r,a,o){var i,l,u,s,f=e.length;if((t=H(t,0,o-1))+1<o)for(s=a.l||0,l=a.i||0;l<f;++l){if(0<e[l]&&s+e[l]>t)return u=l<<1,r.i=l,j(i=H((t-(r.l=s))/e[l],0,1),0)?(r.x=n[u+0],r.y=n[u+1]):j(i,1)?(r.x=n[u+2],r.y=n[u+3]):(r.x=+n[u]+(+n[u+2]-n[u])*i,r.y=+n[u+1]+(+n[u+3]-n[u+1])*i),void(r.y={dx:+n[u+2]-n[u+0],dy:+n[u+3]-n[u+1],v:r.y,valueOf:ln});s+=e[l]}u=(l=f-1)<<1,r.i=l,r.l=o,r.x=n[u+2],r.y={dx:+n[u+2]-n[u+0],dy:+n[u+3]-n[u+1],v:n[u+3],valueOf:ln}}function sn(n,e,t,r,a,o,i,l,u,s,f,c,h,d,p,m,g,y,v){var b,w,x,k,C;return 0===l&&0===u?Y(n,e,t,r,a,o,i,c,h,d,p,m,!0,!0,v):0===o&&0===i&&null!=g?Y(n,e-l,t-(g*y<0?1:-1)*u,r+l,a+(g*y<0?1:-1)*u,2*l,2*u,1,h,d,p,m,!1,!1,v):(n=n,e=e,t=t,r=r,a=a,l=l,u=u,s=s,f=f,c=c,h=h,d=d,p=p,m=m,g=g,y=y,v=v,C=on(o=o,i=i),C=null!=v&&v<1&&0<v?v:(C<1?C:1)||1,r<e&&(v=e,e=r,r=v,v=t,t=a,a=v,v=s,s=f,f=v),v=a<t?-1:1,!j(o,0)||null!=g&&0!==g?!j(i,0)||null!=y&&0!==y?("square"===s&&(e-=+u,t-=v*l),"square"===f&&(r+=+u,a+=v*l),g=e-(o=+l),y=t+(i=v*u),b=e+o,x=t-i,w=r-o,k=a+i,o=r+o,i=a-i,"round"!==s&&"round"!==f||(c=on(l,u)),"round"===s?M(n,g,y,b,x,(g-+u+b-+u)/2,(y-v*l+x-v*l)/2,c,h,d,p,m,C):Y(n,g,y,b,x,null,null,C,h,d,p,m),Y(n,b,x,o,i,null,null,C,h,d,p,m),"round"===f?M(n,o,i,w,k,(+u+w+o+ +u)/2,(k+v*l+i+v*l)/2,c,h,d,p,m,C):Y(n,o,i,w,k,null,null,C,h,d,p,m),Y(n,w,k,g,y,null,null,C,h,d,p,m),function(n,e,t,r,a,o,i,l,u,s,f,c,h,d){var p,m,g,y,v,b,w,x,k=rn.min(t,a,i,u),C=rn.max(t,a,i,u),T=rn.min(e,r,o,l),I=rn.max(e,r,o,l),A=null!=s;if(A&&(C<f||h<k||I<s||c<T))return;null==d&&(d=1);if(j(k,C))return k=rn.round(k),T=rn.round(T),I=rn.round(I),P(n,T,k,I,k,s,f,c,h,d);k=rn.round(k),C=rn.round(C),A&&(k=rn.max(f,k),C=rn.min(h,C));if(!(C<k))for((v=[a<t?[r,a,e,t]:[e,t,r,a],i<a?[o,i,r,a]:[r,a,o,i],u<i?[l,u,o,i]:[o,i,l,u],t<u?[e,t,l,u]:[l,u,e,t]])[1][1]<v[0][1]&&(b=v[0],v[0]=v[1],v[1]=b),v[3][1]<v[2][1]&&(b=v[2],v[2]=v[3],v[3]=b),v[2][1]<v[0][1]&&(b=v[0],v[0]=v[2],v[2]=b),v[3][1]<v[1][1]&&(b=v[1],v[1]=v[3],v[3]=b),v[2][1]<v[1][1]&&(b=v[2],v[2]=v[1],v[1]=b),w=0;k<=C;++k){for(;w<4&&v[w][3]<k;)++w;if(4<=w)return;for(I=-(T=an),x=w;x<4;++x)g=v[x][0],p=v[x][1],y=v[x][2],m=v[x][3],p<=k&&k<=m&&(I=j(p,m)?(T=rn.min(T,g,y),rn.max(I,g,y)):(y=(y-g)*(k-p)/(m-p)+g,T=rn.min(T,y),rn.max(I,y)));if(I-T<1)(!A||s<=T&&T<=c)&&n(rn.round(T),k,1);else for(T=rn.round(T+.5),I=rn.round(I-.5),A&&(T=rn.max(s,T),I=rn.min(c,I));T<=I;++T)n(T,k,d)}}(n,g,y,b,x,o,i,w,k,h,d,p,m,C)):("square"===s&&(e-=+u),"square"===f&&(r+=+u),"round"===s&&M(n,e,t-u,e,t+u,e-u,t,u,h,d,p,m,C),"round"===f&&M(n,r,a-u,r,a+u,r+u,a,u,h,d,p,m,C),P(n,rn.round(e),rn.round(t-u),rn.round(r),rn.round(t+u),h,d,p,m,C)):("square"===s&&(t-=v*l),"square"===f&&(a+=v*l),"round"===s&&M(n,e-l,t,e+l,t,e,t-v*l,l,h,d,p,m,C),"round"===f&&M(n,r-l,a,r+l,a,r,a+v*l,l,h,d,p,m,C),P(n,rn.round(e-l),rn.round(t),rn.round(e+l),rn.round(a),h,d,p,m,C)),C)}function fn(n,e,t,r,a,o,i){var n=rn.max(0,(n-1)/2),l=1===r?0:r/2,u=1===a?0:a/2;return null!=o&&(e=rn.abs(o),t=rn.abs(i)),r*n+l<.5&&a*n+u<.5?[0,0]:j(e,0)?[r*n+l,0]:j(t,0)?[0,a*n+u]:[(r*n+l)*t/(o=on(e,t)),(a*n+u)*e/o]}function P(n,e,t,r,a,o,i,l,u,s){var f,c;if(r<e&&(f=e,e=r,r=f),a<t&&(c=t,t=a,a=c),null!=o){if(r<o||l<e||a<i||u<t)return;e=rn.max(e,o),t=rn.max(t,i),r=rn.min(r,l),a=rn.min(a,u)}if(null==s&&(s=1),t===a)for(f=e;f<=r;++f)n(f,t,s);else if(e===r)for(c=t;c<=a;++c)n(e,c,s);else for(c=t;c<=a;++c)for(f=e;f<=r;++f)n(f,c,s)}function F(n,e,t,r,a,o,i,l,u,s,f,c){var h,d,p,m,g,y,v,b,w,x,k,C,T,I,A=null!=l;if(!A||!(rn.max(e,r,o)<l||rn.min(e,r,o)>s||rn.max(t,a,i)<u||rn.min(t,a,i)>f)){if(null==c&&(c=1),a<t&&(p=t,t=a,a=p,p=e,e=r,r=p),i<t&&(p=t,t=i,i=p,p=e,e=o,o=p),i<a&&(p=a,a=i,i=p,p=r,r=o,o=p),j(x=i-t,0))return m=rn.round(t),P(n,h=rn.round(rn.min(e,r,o)),m,d=rn.round(rn.max(e,r,o)),m,l,u,s,f,c);for(C=i-a,v=o-e,b=r-e,w=o-r,T=j(k=a-t,0),I=j(C,0),m=rn.round(t+.5),g=a,y=rn.round(i-.5),A&&(m=rn.max(u,m),y=rn.min(f,y));m<=y;++m)if(d=m<g?T?(h=e,r):(h=v*(m-t)/x+e,b*(m-t)/k+e):I?(h=r,o):(h=v*(m-t)/x+e,w*(m-a)/C+r),rn.abs(d-h)<1)(!A||l<=h&&h<=s)&&n(rn.round(h),m,1);else for(d<h&&(p=h,h=d,d=p),h=rn.round(h+.5),d=rn.round(d-.5),A&&(h=rn.max(l,h),d=rn.min(s,d));h<=d;++h)n(h,m,c)}}function M(n,e,t,r,a,o,i,l,u,s,f,c,h){var d,p,m,g,y,v,b,w,x,k,C,G,q,T,I,A,P,B,D,S,L,E,z,F,R,O=null!=u;for(a<t&&(B=t,t=a,a=B,B=e,e=r,r=B),B=o,D=i,E=r,z=a,F=(E-=S=e)*(B-=S)+(z-=L=t)*(D-=L),R=on(E,z),on(B,D),S=o+l/(D=on(o-(k=[S+(B=F/R)*E/R,L+B*z/R])[0],i-k[1]))*(k[0]-o),F=i+l/D*(k[1]-i),E=rn.atan2(i-F,o-S),L=rn.atan2(t-F,e-S),z=rn.atan2(a-F,r-S),E=V(E),R=V(L),D=V(z),A=(k=en(S,F,l,l,0,L,z,!(E<R&&E<D||R<E&&D<E||R<E&&E<D))).length-2,null==h&&(h=1),T=0;T<A;T+=2)Y(n,k[T],k[T+1],k[T+2],k[T+3],null,null,h,u,s,f,c);for(k=hn([k]),d=rn.round(rn.min(t,a,i,k.ymin)),p=rn.round(rn.max(t,a,i,k.ymax)),O&&(d=rn.max(d,s),p=rn.min(p,c)),C=r-e,q=j(G=a-t,0),T=0,A=k.length;d<=p;++d){for(;T<A&&k[T][3]<d;)++T;if(A<=T)break;if((P=k[T])[1]>d)d=rn.floor(P[1]);else{for(g=-(m=an),t<=d&&d<=a&&(g=q?(m=rn.min(m,e,r),rn.max(g,e,r)):(m=rn.min(m,y=C*(d-t)/G+e),rn.max(g,y))),I=T;I<A&&k[I][1]<=d;++I)(P=k[I])[3]>=d&&(v=P[0],b=P[2],g=j(w=P[1],x=P[3])?(m=rn.min(m,v,b),rn.max(g,v,b)):(m=rn.min(m,y=(b-v)*(d-w)/(x-w)+v),rn.max(g,y)));for(m=rn.round(m+.5),g=rn.round(g-.5),O&&(m=rn.max(m,u),g=rn.min(g,f));m<=g;++m)n(m,d,h)}}}function Y(n,e,t,r,a,o,i,l,u,s,f,c,h,d,p){var m=rn.min(e,r),g=rn.max(e,r),y=rn.min(t,a),v=rn.max(t,a),b=l<1?l:1,l=null!=u;if((b=null!=p&&p<b?p:b)&&(!l||!(g<u||f<m||v<s||c<y))){if(null==o&&(o=rn.abs(r-e),i=rn.abs(a-t)),l&&(m<u||f<g||y<s||c<v)){p=function(n,e,t,r,a,o,i,l){if(null!=a){var t=-(t-n),u=-t,r=-(r-e),s=-r,a=n-a,i=i-n,o=e-o,l=l-e,f=1,c=0;if(!(0==t&&a<0||0==u&&i<0||0==r&&o<0||0==s&&l<0||(0!=t&&(a=a/t,i=i/u,t<0?(c<a&&(c=a),i<f&&(f=i)):(c<i&&(c=i),a<f&&(f=a))),0!=r&&(t=o/r,i=l/s,r<0?(c<t&&(c=t),i<f&&(f=i)):(c<i&&(c=i),t<f&&(f=t))),f<c)))return[n+u*c,e+s*c,n+u*f,e+s*f]}}(e,t,r,a,u,s,f,c);if(!p)return b;e=p[0],t=p[1],r=p[2],a=p[3]}if(j(o,0)||j(i,0))P(n,rn.round(e),rn.round(t),rn.round(r),rn.round(a),null,null,null,null,b);else{var w,x,k,C,T=0,I=0,A=0,l=o<i;if(l&&(w=e,e=t,t=w,w=r,r=a,a=w,w=o,o=i,i=w),r<e&&(w=e,e=r,r=w,x=t,t=a,a=x),g=t+(C=(a<t?-1:1)*i/o)*((m=rn.round(e))-e),y=h?1:1-(e+.5-rn.floor(e+.5)),v=m,A=1-(I=g-(u=rn.floor(g))),l?(n(u,v,b*A*y),n(u+1,v,b*I*y)):(n(v,u,b*A*y),n(v,u+1,b*I*y)),T=g+C,g=a+C*((m=rn.round(r))-r),y=d?1:r+.5-rn.floor(r+.5),k=m,A=1-(I=g-(s=rn.floor(g))),l?(n(s,k,b*A*y),n(s+1,k,b*I*y)):(n(k,s,b*A*y),n(k,s+1,b*I*y)),l)for(w=v+1;w<k;++w)0<(A=1-(I=T-(x=rn.floor(T))))&&n(x,w,b*A),0<I&&n(x+1,w,b*I),T+=C;else for(w=v+1;w<k;++w)0<(A=1-(I=T-(x=rn.floor(T))))&&n(w,x,b*A),0<I&&n(w,x+1,b*I),T+=C}}return b}function cn(n,e,t,r,a,o,i,l,u,s,f,c,h,d,p,m,g,y,v,b,w,x){var k,C,T,I,A,P,B,D,S=r<e||e===r&&l<0?-1:1,L=a<t||t===a&&u<0?-1:1,E=o<r||r===o&&c<0?-1:1,z=i<a||a===i&&h<0?-1:1;l=rn.abs(l),J(L*(u=rn.abs(u))*E*(c=rn.abs(c)),z*(h=rn.abs(h))*S*l,1e-6)||(null==x&&(x=1),k={x:e-(D=S*s),y:t+(B=L*f)},e={x:e+D,y:t-B},t={x:r-D,y:a+B},D={x:r+D,y:a-B},P={x:r-(B=E*d),y:a+(A=z*p)},C={x:r+B,y:a-A},T={x:o-B,y:i+A},o={x:o+B,y:i-A},B={x:r,y:a},i=z*h*S*l<L*u*E*c?(I=t,P):(I=D,C),E*L*S*z<0&&(I=D===I?t:D,i=C===i?P:C),S*z<0&&(I=D===I?t:D),E*L<0&&(i=C===i?P:C),S*E<0&&(I=D===I?t:D,i=C===i?P:C),"bevel"===m?(Y(n,I.x,I.y,i.x,i.y,null,null,x,y,v,b,w),F(n,B.x,B.y,I.x,I.y,i.x,i.y,y,v,b,w,x)):(r=(A=I===D?e:k).x,a=A.y,h=I.x,l=I.y,u=i.x,c=i.y,z=l-a,L=r-h,h=h*a-r*l,l=(E=(S=i===C?o:T).x)*c-u*(t=S.y),D=on((P=!j(E=z*(r=u-E)-L*(a=t-c),0)&&{x:(L*l-h*r)/E,y:(h*a-z*l)/E}).x-B.x,P.y-B.y),e=rn.min(on(s,f),on(d,p)),"round"===m?(P={x:B.x+e*(P.x-B.x)/D,y:B.y+e*(P.y-B.y)/D},F(n,B.x,B.y,I.x,I.y,i.x,i.y,y,v,b,w,x),M(n,I.x,I.y,i.x,i.y,P.x,P.y,e,y,v,b,w,x)):g*e<D?(Y(n,I.x,I.y,i.x,i.y,null,null,x,y,v,b,w),F(n,B.x,B.y,I.x,I.y,i.x,i.y,y,v,b,w,x)):(Y(n,I.x,I.y,P.x,P.y,null,null,x,y,v,b,w),Y(n,i.x,i.y,P.x,P.y,null,null,x,y,v,b,w),F(n,B.x,B.y,I.x,I.y,i.x,i.y,y,v,b,w,x),F(n,P.x,P.y,I.x,I.y,i.x,i.y,y,v,b,w,x))))}function en(r,a,o,i,n,l,e,t,u){s=e,t=t,f=V(c=l),s+=f-c,!t&&x<=s-f?s=f+x:t&&x<=f-s?s=f-x:!t&&s<f?s=f+(x-V(f-s)):t&&f<s&&(s=f-(x-V(s-f)));var s,f,c=[f,s],h=(l=c[0],e=c[1],n?rn.cos(n):1),d=n?rn.sin(n):0,p=e-l,m=u&&!u.isIdentity;return g(function(n){var n=l+n*p,e=o*rn.cos(n),n=i*rn.sin(n),t=r+h*e-d*n,e=a+d*e+h*n;return m?u.transform(t,e):[t,e]},m?u.sx:1,m?u.sy:1)}function L(n,e,t,r,a,o,i,l){var u=[],n=function(n,e,t,r,a,o,i){if(J(t,n)&&J(r,e)||J(t,a)&&J(r,o)||J(i,0))return[t,r];var l,u,s,f=!1;if(a={x:a-t,y:o-r},u=on((o={x:n-t,y:e-r}).x,o.y),s=on(a.x,a.y),j(l=(o.x*a.x+o.y*a.y)/(u*s),-1))return[t,r];if(j(l,1))return[n+(n=65535/u)*o.x,e+n*o.y];e=i/rn.tan(rn.acos(l)/2),l={x:t+(n=e/u)*o.x,y:r+n*o.y},n=on((u={x:o.y,y:-o.x}).x,u.y),o=i/n,(u.x*a.x+u.y*a.y)/(n*s)<0&&(u={x:-u.x,y:-u.y});o={x:l.x+o*u.x,y:l.y+o*u.y},u={x:-u.x,y:-u.y},n=rn.acos(u.x/n),u.y<0&&(n=x-n);s=on((e={x:(t={x:t+(u=e/s)*a.x,y:r+u*a.y}).x-o.x,y:t.y-o.y}).x,e.y),r=rn.acos(e.x/s),e.y<0&&(r=x-r);r<n&&n-r<d&&(f=!0);n<r&&d<r-n&&(f=!0);return[l.x,l.y,o.x,o.y,n,r,!(!f||J(x,i))]}(n,e,t,r,a,o,i);return n&&2<=n.length&&(e=l?l.transform(n[0],n[1]):[n[0],n[1]],u.push(e[0],e[1]),2<n.length)&&u.push.apply(u,en(n[2],n[3],i,i,0,n[4],n[5],n[6],l)),u}function E(i,n){var e=n&&!n.isIdentity;return g(6<i.length?function(n){var e=1-n,t=n*n,r=e*e,a=r*e,o=t*n,r=3*r*n,n=3*t*e;return[a*i[0]+r*i[2]+n*i[4]+o*i[6],a*i[1]+r*i[3]+n*i[5]+o*i[7]]}:function(n){var e=1-n,t=e*e,e=2*e*n,n=n*n;return[t*i[0]+e*i[2]+n*i[4],t*i[1]+e*i[3]+n*i[5]]},e?n.sx:1,e?n.sy:1)}function tn(G,q,O,n,U,_,N,X,M,Y,J,j,H,V){var e={length:0,min:an,offset:U};n.forEach(function(n){e.length+=n,e.min=rn.min(e.min,n)}),1<=e.min&&(e.min=1),e.length<=e.offset&&(e.offset-=rn.floor(e.offset/e.length)*e.length),e.offset<0&&(e.offset+=rn.ceil(-e.offset/e.length)*e.length),e.offset/=e.min;for(var t,r=0,W=q._d,Q=W.length;r<Q;++r)if((t=W[r])&&2<t.length)for(var $=n.length?function(n,e,t,r,a,o){for(var i,l,u,s,f,c,h,d,p,m,g,y,v=n.length,b=(v>>>1)-1,w=new Array(b),x=e.length,k=0,C=[],T=0,I=0;T<b;++T,I+=2)i=on((+n[I+2]-n[I])/a,(+n[I+3]-n[I+1])/o),k+=w[T]=i;for(h={x:n[0],y:n[1],i:0,l:0},d={x:n[v-2],y:n[v-1],i:0,l:0},l=0,g=-t;g<k;)u=e[l]/r,s=e[l+1]/r,0<u&&0<g+u&&(un(n,w,g,h,d,k),un(n,w,g+u-1,d,h,k),y=null,h.i+1<d.i?((y=[]).push(h.x),y.push(h.y),y.push.apply(y,n.slice(h.i+1<<1,d.i<<1)),y.push(d.x),y.push(d.y)):h.i<d.i?y=[h.x,h.y,n[d.i<<1],n[1+(d.i<<1)],d.x,d.y]:h.i===d.i&&(y=[h.x,h.y,d.x,d.y]),y)&&y.length&&((A=(m=C.length?C[C.length-1]:null)?{x:m[m.length-2],y:m[m.length-1],i:m.i}:null)&&h.i-1===A.i&&(p={x:n[h.i<<1],y:n[1+(h.i<<1)],i:h.i},f+c<on((+A.x-p.x)/a,(+A.y-p.y)/o)+on((+p.x-h.x)/a,(+p.y-h.y)/o)+t)&&(B=n[A.i<<1],D=n[1+(A.i<<1)],A.i,A=n[2+(h.i<<1)],P=n[3+(h.i<<1)],h.i,C.push([p.x,{dx:+p.x-B,dy:+p.y-D,v:p.y,valueOf:ln},p.x,p.y,p.x,{dx:+A-p.x,dy:+P-p.y,v:p.y,valueOf:ln}]),C[C.length-1].i=h.i,C[C.length-1].alpha=m.alpha),y.i=d.i,y.alpha=rn.max(.7,e[l]<1?e[l]:1),C.push(y)),0<u&&(g+=u),0<s&&(g+=s),f=u,c=s,x<=(l+=2)&&(l=0);var A,P;var B,D;return C}(t,n,e.offset,e.min,M,Y):[t],a=0,Z=$.length;a<Z;++a)if(0<$[a].length){tn=en=R=F=x=w=b=v=y=g=m=p=d=h=c=f=s=u=l=i=o=z=E=L=S=D=B=P=nn=K=A=I=T=C=k=void 0;var o,i,l,u,s,f,c,h,d,p,m,g,y,v,b,w,x,k=G,C=$[a],T=O,I=0===a?_:"butt",A=Z===1+a?_:"butt",K=N,nn=X,P=M,B=Y,D=J,S=j,L=H,E=V,z=C.length,F=K,R=0,en=I,tn=A;if(z<6)R=sn(k,+(i=C[0]),+(l=C[1]),+(u=C[2]),+(s=C[3]),p=rn.abs(+u-i),m=rn.abs(+s-l),(x=fn(T,p,m,P,B,g=(null==l.dx?s:l).dx,y=(null==l.dy?s:l).dy))[0],x[1],I,A,T,D,S,L,E,g,y,C.alpha);else for(z-=2,o=0;o<z;o+=2)i=C[o],l=C[o+1],u=C[o+2],s=C[o+3],x=fn(T,p=rn.abs(u-i),m=rn.abs(s-l),P,B,g=(null==l.dx?s:l).dx,y=(null==l.dy?s:l).dy),i.params&&i.params.lineCap&&(en=!0===i.params.lineCap?I:i.params.lineCap),u.params&&u.params.lineCap&&(tn=!0===u.params.lineCap?A:u.params.lineCap),R=rn.max(R,sn(k,+i,+l,+u,+s,p,m,x[0],x[1],0===o?en:null,z===o+2?tn:null,T,D,S,L,E,g,y,C.alpha)),0<o&&(0<w[0]||0<w[1]||0<x[0]||0<x[1])&&(i.params&&i.params.lineJoin&&(F=!0===i.params.lineJoin?K:i.params.lineJoin),cn(k,+f,+c,+i,+l,+u,+s,v||h,b||d,w[0],w[1],g||p,y||m,x[0],x[1],F,nn,D,S,L,E,R)),f=i,c=l,h=p,d=m,v=g,b=y,w=x;u.params&&u.params.join&&(f=u.params.join[0],c=u.params.join[1],0<(w=fn(T,h=rn.abs(f-u),d=rn.abs(c-s),P,B,v=null,b=null))[0]||0<w[1]||0<x[0]||0<x[1])&&cn(k,+i,+l,+u,+s,+f,+c,g||p,y||m,x[0],x[1],v||h,b||d,w[0],w[1],F,nn,D,S,L,E,R)}}function hn(n){if(!n)return[];for(var e,t,r,a,o=[],i=n.length,l=an,u=-an,s=0,f=0,c=0;c<i;++c)if((a=n[c])&&!((e=a.length-2)<=0)){for(++s,r=-(f=1),t=0;t<e;t+=2)a[t].params&&a[t].params.type&&(0<=r&&r<o.length&&(o[r][7]=o[r+f-2][6]+1,o[r+f-2][7]=o[r][6]+1),++s,f=1,r=o.length),l=rn.min(l,a[t+1]),u=rn.max(u,a[t+1]),a[t+1]>a[t+3]?o.push([+a[t+2],a[t+3],+a[t],a[t+1],-1,s,f,f,0,0]):o.push([+a[t],a[t+1],+a[t+2],a[t+3],1,s,f,f,0,0]),++f;l=rn.min(l,a[1+e]),u=rn.max(u,a[1+e])}return(o=o.sort(b)).ymin=l,o.ymax=u,o}function dn(n,e){for(var t,r,a,o=0,i=0;i<e;++i)if(!(r=n[i])[9])for(t=i+1;t<e;++t)(a=n[t])[9]||r[4]!==a[4]||r[5]!==a[5]||1<rn.abs(r[6]-a[6])&&1<rn.abs(r[7]-a[7])||(J(r[0],a[0],1e-6)&&J(r[1],a[1],1e-6)&&J(r[2],a[2],1e-6)&&J(r[3],a[3],1e-6)||J(r[3],a[1],1e-6)||J(r[1],a[3],1e-6))&&(a[9]=1,++o);return o}function g(n,e,t){var r,a=[],o=l,i=n(0);for(a.push(i[0],i[1]),r=0;r<o;++r)i=function n(e,t,r,a,o,i,l,u){if(i<=o||J(o,i,1e-6))return l;l=l||t(o);u=u||t(i);var s,f=rn.max(r,a),c=on(u[0]-l[0],u[1]-l[1])*f;if(c<=p){if(c<1)return l;e.push(u[0],u[1])}else y((s=t(c=(o+i)/2))[0],s[1],l[0],l[1],u[0],u[1])*f<m?e.push(u[0],u[1]):(n(e,t,r,a,o,c,l,s),n(e,t,r,a,c,i,s,u));return u}(a,n,e,t,0===r?0:r/o,o===r+1?1:(r+1)/o,i,null);return a}function pn(n,e,t,r,a,o){return(n-t)*(o-r)-(a-t)*(e-r)<0?-1:1}function on(n,e){n=rn.abs(n),e=rn.abs(e);var t=0;return j(n,0)?e:j(e,0)?n:e<n?n*rn.sqrt(1+(t=e/n)*t):n<e?e*rn.sqrt(1+(t=n/e)*t):n*a}function y(n,e,t,r,a,o){var a=a-t,o=o-r,i=on(a,o);return j(i,0)?on(n-t,e-r):rn.abs(a*(r-e)-o*(t-n))/i}function z(n,e,t,r){var a,o,i=n*r-e*t;return t=t,r=r,a=on(n=n,e=e),o=on(t,r),(i<0?-1:1)*(j(a,0)||j(o,0)?0:rn.acos(H(n/a*(t/o)+e/a*(r/o),-1,1)))}function J(n,e,t){return rn.abs(+n-e)<(t||1e-6)}function j(n,e){return rn.abs(+n-e)<r}function H(n,e,t){return rn.min(rn.max(n,e),t)}function V(n){return n=n,t=0,r=e=x,(n-=e*rn.floor(n/e))<t&&(n+=e),r<n&&(n-=e),n;var e,t,r}function b(n,e){var t=n[1]-e[1];return J(t,0)?n[3]-e[3]:t}function mn(n){return parseFloat(n||"")||0}function I(n){return n.trim()}function W(n){throw new Error(n)}function i(){}function Q(r){if(!(this instanceof Q)||"function"!=typeof r||r.length<5)throw new Error("Gradient: invalid gradient");var a=new gn,t={0:[0,[0,0,0,0]],1:[1,[0,0,0,0]]},o=null,i=function(){var n;return null==o&&((n=Object.keys(t)).sort(function(n,e){return parseFloat(n)-parseFloat(e)}),o=n.map(function(n){return t[n]}).filter(function(n){return 0<=n[0]&&n[0]<=1})),o};R(this,"transform",{get:function(){return a},set:function(n){},enumerable:!0,configurable:!1}),this.addColorStop=function(n,e){o=null,t[String(n)]=[+n,Bn(e)||U]},this.getColorAt=function(n,e){var t=a.imatrix(!0),t=t?t.transform(n,e):null,n=[0,0,0,0];return t?r(t[0],t[1],i(),n,0):n}}function $(a){if(!(this instanceof $)||"function"!=typeof a||a.length<4)throw new Error("Pattern: invalid pattern");var o=new gn;R(this,"transform",{get:function(){return o},set:function(n){},enumerable:!0,configurable:!1}),this.getColorAt=function(n,e){var t=o.imatrix(!0),r=[0,0,0,0];return t&&(t=t.transform(n,e),a(t[0],t[1],r,0)),r[3]/=255,r}}function gn(){var i=this,l=new X,u=new X,e=[];i.dispose=function(){e=u=l=null},i.matrix=function(n){return!0===n?l:l.clone()},i.imatrix=function(n){return!0===n?u:u.clone()},i.reset=function(){return l=new X,u=new X,i},i.save=function(){return 10<=e.length&&e.shift(),e.push([l,u]),i},i.restore=function(){var n;return e.length&&(n=e.pop(),l=n[0],u=n[1]),i},i.scale=function(n,e,t,r){return l=l.mul(X.scale(n,e,t,r)),u=X.scale(1/n,1/e,t,r).mul(u),i},i.rotate=function(n,e,t){return l=l.mul(X.rotate(n,e,t)),u=X.rotate(-n,e,t).mul(u),i},i.translate=function(n,e){return l=l.mul(X.translate(n,e)),u=X.translate(-n,-e).mul(u),i},i.skewX=function(n){n=X.skewX(n);return l=l.mul(n),u=n.inv().mul(u),i},i.skewY=function(n){n=X.skewY(n);return l=l.mul(n),u=n.inv().mul(u),i},i.transform=function(n,e,t,r,a,o){n=new X(n,t,a,e,r,o);return l=l.mul(n),u=n.inv().mul(u),i}}function yn(n,e,t){for(var r,a=0,o=t-1;a<o;){if(e[a][0]>=n)return a;e[r=a+o>>>1][0]<n?a=1+r:o=r}return a}function vn(n,e,t,r,a){return n[e+0]=H(rn.round(t[0]+a*(r[0]-t[0])),0,255),n[e+1]=H(rn.round(t[1]+a*(r[1]-t[1])),0,255),n[e+2]=H(rn.round(t[2]+a*(r[2]-t[2])),0,255),n[e+3]=3<t.length?H(t[3]+a*(r[3]-t[3]),0,1):1,n}_.VERSION="1.1.0",_[n]={constructor:_,width:null,height:null,getContext:null},_.getRGBAFrom=function(o){var t;return"function"==typeof o?function(n,e){n=o(n,e);return[n[0],n[1],n[2],3<n.length?n[3]/255:1]}:o.data&&null!=o.width&&null!=o.height?function(n,e){var t=o.width,r=o.height,a=o.data;return 0<=n&&n<t&&0<=e&&e<r?[a[r=n+t*e<<2],a[1+r],a[2+r],a[3+r]/255]:U}:(t=[o[0]||0,o[1]||0,o[2]||0,3<o.length?o[3]||0:1],function(n,e){return t})},_.setRGBATo=function(y){var n;return"function"==typeof y?y:((n=function(n,e,t,r,a,o,i){var l=y.width,u=y.height,s=y.data;if(0<=n&&n<l&&0<=e&&e<u){var u=n+l*e<<2,n=s[u]||0,l=s[1+u]||0,e=s[2+u]||0,f=(s[3+u]||0)/255,c=o,h=null,d=0,p=0,m=0,g=0;switch("clear"!==(i=i||"source-over")&&"copy"!==i&&(h=(h=v.CompositionMode[i])||v.CompositionMode[i="source-over"]),i){case"clear":h=null;break;case"copy":d=t,p=r,m=a,g=H(rn.round(255*c),0,255),h=null;break;case"xor":case"destination-out":case"destination-in":case"destination-atop":case"destination-over":case"source-out":case"source-in":case"source-atop":case"source-over":g=h(f,f,c,c);break;default:g=c+f-c*f}h&&(g=0<g?(d=H(rn.round(255*h(f*n/255,f,c*t/255,c)/g),0,255),p=H(rn.round(255*h(f*l/255,f,c*r/255,c)/g),0,255),m=H(rn.round(255*h(f*e/255,f,c*a/255,c)/g),0,255),H(rn.round(255*g),0,255)):m=p=d=0),s[u]=d,s[1+u]=p,s[2+u]=m,s[3+u]=g}}).$target=y,n)},v[n]={constructor:v,strokeStyle:null,fillStyle:null,lineWidth:null,lineCap:null,lineJoin:null,miterLimit:null,lineDash:null,lineDashOffset:null,getLineDash:null,setLineDash:null,shadowColor:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,globalAlpha:null,globalCompositeOperation:null,save:null,restore:null,reset:null,scale:null,rotate:null,translate:null,transform:null,getTransform:null,setTransform:null,resetTransform:null,beginPath:null,closePath:null,moveTo:null,lineTo:null,rect:null,arc:null,ellipse:null,arcTo:null,quadraticCurveTo:null,bezierCurveTo:null,clearRect:null,strokeRect:null,fillRect:null,stroke:null,fill:null,clip:null,isPointInStroke:null,isPointInPath:null,createImageData:function(n,e){return null==e&&null!=n.width&&null!=n.height&&(e=n.height,n=n.width),{data:new O(n*e<<2),width:n,height:e}},getImageData:null,putImageData:null,drawImage:null,createLinearGradient:i,createRadialGradient:i,createConicGradient:i,createPattern:i,strokeText:i,fillText:i,measureText:i},((_.RenderingContext2D=v).CompositionMode={xor:function(n,e,t,r){return t*(1-e)+n*(1-r)},"destination-out":function(n,e,t,r){return n*(1-r)},"destination-in":function(n,e,t,r){return n*r},"destination-atop":function(n,e,t,r){return t*(1-e)+n*r},"destination-over":function(n,e,t,r){return t*(1-e)+n},"source-out":function(n,e,t,r){return t*(1-e)},"source-in":function(n,e,t,r){return t*e},"source-atop":function(n,e,t,r){return t*e+n*(1-r)},"source-over":function(n,e,t,r){return t+n*(1-r)},multiply:function(n,e,t,r){return t*n+t*(1-e)+n*(1-r)},screen:function(n,e,t,r){return t+n-t*n},overlay:function(n,e,t,r){return 2*n<=e?2*t*n+t*(1-e)+n*(1-r):t*(1+e)+n*(1+r)-2*n*t-e*r},darken:function(n,e,t,r){return rn.min(t*e,n*r)+t*(1-e)+n*(1-r)},lighten:function(n,e,t,r){return rn.max(t*e,n*r)+t*(1-e)+n*(1-r)},"color-dodge":function(n,e,t,r){return t===r&&0===n?t*(1-e):t===r?r*e+t*(1-e)+n*(1-r):r*e*rn.min(1,n/e*r/(r-t))+t*(1-e)+n*(1-r)},"color-burn":function(n,e,t,r){return 0===t&&n===e?r*e+n*(1-r):0===t?n*(1-r):r*e*(1-rn.min(1,(1-(e?n/e:0))*r/t))+t*(1-e)+n*(1-r)},"hard-light":function(n,e,t,r){return 2*t<=r?2*t*n+t*(1-e)+n*(1-r):t*(1+e)+n*(1+r)-r*e-2*t*n},"soft-light":function(n,e,t,r){var a=e?n/e:0;return 2*t<=r?n*(r+(2*t-r)*(1-a))+t*(1-e)+n*(1-r):r<2*t&&4*n<=e?e*(2*t-r)*(16*rn.pow(a,3)-12*rn.pow(a,2)-3*a)+t-t*e+n:e*(2*t-r)*(rn.pow(a,.5)-a)+t-t*e+n},difference:function(n,e,t,r){return t+n-2*rn.min(t*e,n*r)},exclusion:function(n,e,t,r){return t*e+n*r-2*t*n+t*(1-e)+n*(1-r)}}).hardlight=v.CompositionMode["hard-light"],v.CompositionMode.softlight=v.CompositionMode["soft-light"],v.Interpolation={},N[n]={constructor:N,_d:null,_sd:null,transform:null,dispose:null,addPath:null,moveTo:null,lineTo:null,rect:null,roundRect:null,arc:null,ellipse:null,arcTo:null,quadraticCurveTo:null,bezierCurveTo:null,closePath:null},v.Path2D=N,X[n]={constructor:X,is2D:!0,isIdentity:!0,m11:1,m12:0,m13:0,m21:0,m22:1,m23:0,m31:0,m32:0,m33:1,a:null,b:null,c:null,d:null,e:null,f:null,clone:function(){var n=this,e=new X(n.m11,n.m12,n.m13,n.m21,n.m22,n.m23);return e.sx=n.sx,e.sy=n.sy,e},mul:function(n){var e,t=this;if(n instanceof X)return(e=new X(t.m11*n.m11+t.m12*n.m21,t.m11*n.m12+t.m12*n.m22,t.m11*n.m13+t.m12*n.m23+t.m13,t.m21*n.m11+t.m22*n.m21,t.m21*n.m12+t.m22*n.m22,t.m21*n.m13+t.m22*n.m23+t.m23)).sx=t.sx*n.sx,e.sy=t.sy*n.sy,e},inv:function(){var n=this,e=n.m11,t=n.m12,r=n.m13,a=n.m21,o=n.m22,i=n.m23,l=e*o-t*a;return j(l,0)?null:((a=new X(o=o/l,t=-t/l,-o*r-t*i,o=-a/l,t=e/l,-o*r-t*i)).sx=1/n.sx,a.sy=1/n.sy,a)},transform:function(n,e,t){2===arguments.length&&e&&e.length?(t=e,e=n[1],n=n[0]):1===arguments.length&&(e=n[1],n=n[0]);var r=this,a=r.m11*n+r.m12*e+r.m13,n=r.m21*n+r.m22*e+r.m23;return t&&t.length?(t[0]=a,t[1]=n):t=[a,n],t}},X.translate=function(n,e){return new X(1,0,n||0,0,1,e||0)},X.scale=function(n,e,t,r){t=new X(n,0,-n*(t=t||0)+t,0,e,-e*(r=r||0)+r);return t.sx=n,t.sy=e,t},X.rotate=function(n,e,t){e=e||0,t=t||0;var r=rn.cos(n||0),n=rn.sin(n||0);return new X(r,-n,e-r*e+n*t,n,r,t-r*t-n*e)},X.skewX=function(n){return new X(1,n||0,0,0,1,0)},X.skewY=function(n){return new X(1,0,0,n||0,1,0)},X.EYE=function(){return new X(1,0,0,0,1,0)},v.Matrix2D=X,k[n]={constructor:k,value:0,params:null,valueOf:function(){return this.value},toString:function(){return String(this.value)}},Q.VERSION="1.2.3",Q[n]={constructor:Q,transform:null,addColorStop:null,getColorAt:null},Q.createLinearGradient=function(u,s,n,e){var f=(n=n||0)-(u=u||0),c=(e=e||0)-(s=s||0),h=j(f,0),d=j(c,0),p=2*f*c;return new Q(function(n,e,t,r,a){var o,i,l=t.length,n=n-u,e=e-s,n=d&&h?0:h?e/c:d?n/f:(n*c+e*f)/p;return n<=0?n=o=i=0:1<=n?(o=i=l-1,n=1):o=0===(i=yn(n,t,l))?0:i-1,vn(r,a||0,t[o][1],t[i][1],t[i][0]>t[o][0]?(n-t[o][0])/(t[i][0]-t[o][0]):n)})},Q.createRadialGradient=function(d,p,m,g,y,n){var v=(m=m||0)*m-2*m*(n=n||0)+n*n-(d=d||0)*d+2*d*(g=g||0)-g*g-(p=p||0)*p+2*p*(y=y||0)-y*y,b=-2*m*m+2*m*n+2*d*d-2*d*g+2*p*p-2*p*y,w=-d*d-p*p+m*m;return new Q(function(n,e,t,r,a){var o,i,l,u,s,f,c,h=t.length;return u=b-2*n*d+2*n*g-2*e*p+2*e*y,s=w-n*n+2*n*d-e*e+2*e*p,(u=(s=j(l=v,0)?(c=s,!j(f=u,0)&&[-c/f]):J(c=u*u-4*l*s,f=0,1e-6)?[-u/(2*l)]:!(c<0)&&(f=rn.sqrt(c),[(-u-f)/(2*l),(-u+f)/(2*l)]))?1<s.length?0<=s[0]&&s[0]<=1&&0<=s[1]&&s[1]<=1?rn.min(s[0],s[1]):0<=s[0]&&s[0]<=1?s[0]:0<=s[1]&&s[1]<=1?s[1]:rn.min(s[0],s[1]):s[0]:-1)<0||1<u?(l=n-d,s=e-p,i=o=rn.sqrt(l*l+s*s)<m?u=0:h-(u=1)):o=0===(i=yn(u,t,h))?0:i-1,vn(r,a||0,t[o][1],t[i][1],t[i][0]>t[o][0]?(u-t[o][0])/(t[i][0]-t[o][0]):u)})},Q.createConicGradient=function(i,l,u){return i=i||0,l=l||0,u=u||0,new Q(function(n,e,t,r,a){var o=t.length,e=rn.atan2(e-u,n-l)-i;return e<0&&(e+=x),x<e&&(e-=x),vn(r,a||0,t[r=0===(n=yn(e=H(e/x,0,1),t,o))?0:n-1][1],t[n][1],t[n][0]>t[r][0]?(e-t[r][0])/(t[n][0]-t[r][0]):e)})},$[n]={constructor:$,transform:null,getColorAt:null},$.createPattern=function(a,n){if(!((a=a&&"function"==typeof a.getImageData?a.getImageData():a)&&a.data&&a.width&&a.height&&a.data.length===4*a.width*a.height))throw new Error("Pattern: invalid image data");var o=a.width,i=a.height;switch(n){case"no-repeat":return new $(function(n,e,t,r){return n=rn.round(n),e=rn.round(e),0<=n&&n<o&&0<=e&&e<i&&(t[r+0]=a.data[n=n+e*o<<2],t[r+1]=a.data[1+n],t[r+2]=a.data[2+n],t[r+3]=a.data[3+n]),t});case"repeat-x":return new $(function(n,e,t,r){return n=rn.round(n),0<=(e=rn.round(e))&&e<i&&((n%=o)<0&&(n+=o),t[r+0]=a.data[n=n+e*o<<2],t[r+1]=a.data[1+n],t[r+2]=a.data[2+n],t[r+3]=a.data[3+n]),t});case"repeat-y":return new $(function(n,e,t,r){return n=rn.round(n),e=rn.round(e),0<=n&&n<o&&((e%=i)<0&&(e+=i),t[r+0]=a.data[n=n+e*o<<2],t[r+1]=a.data[1+n],t[r+2]=a.data[2+n],t[r+3]=a.data[3+n]),t});default:return new $(function(n,e,t,r){n=rn.round(n),e=rn.round(e),(n%=o)<0&&(n+=o),(e%=i)<0&&(e+=i);n=n+e*o<<2;return t[r+0]=a.data[n],t[r+1]=a.data[1+n],t[r+2]=a.data[2+n],t[r+3]=a.data[3+n],t})}},Q.Pattern=$,Q.createPattern=$.createPattern,v.Gradient=Q,v.Pattern=$,v[n].createLinearGradient=Q.createLinearGradient,v[n].createRadialGradient=Q.createRadialGradient,v[n].createConicGradient=Q.createConicGradient,v[n].createPattern=Q.createPattern,gn[n]={constructor:gn,dispose:null,matrix:null,imatrix:null,reset:null,save:null,restore:null,scale:null,rotate:null,translate:null,reflectX:null,reflectY:null,skewX:null,skewY:null,transform:null},Q.Transform=gn;var bn=/^#([0-9a-fA-F]{3,6})\b/,wn=/^(rgba?)\b\s*\(([^\)]*)\)/i,xn=/^(hsla?)\b\s*\(([^\)]*)\)/i,kn=/^(hwba?)\b\s*\(([^\)]*)\)/i,Cn=/\s+|,/gm,Tn=/\/\s*(\d*?\.?\d+%?)/;function In(n,e,t,r){var a,o,i;return e/=100,e=(1-rn.abs(2*(t/=100)-1))*e,a=rn.floor((n=n/60)/2),a=e*(1-rn.abs(n-2*a-1)),t=t-e/2,n=0<=n&&n<1?(o=e+t,i=a+t,0+t):1<=n&&n<2?(o=a+t,i=e+t,0+t):2<=n&&n<3?(o=0+t,i=e+t,a+t):3<=n&&n<4?(o=0+t,i=a+t,e+t):4<=n&&n<5?(o=a+t,i=0+t,e+t):(o=e+t,i=0+t,a+t),[H(rn.round(255*o),0,255),H(rn.round(255*i),0,255),H(rn.round(255*n),0,255),r]}function An(n,e,t,r){var a,t=1-t/100;return n=n,a=100*t,r=r,e=(a/=100)*(1-(e=100-e/t)/200),t=rn.min(e,1-e),In(n,0===t?0:100*(a-e)/t,100*e,r)}var Pn=/^\s+|\s+$/gm,I=String.prototype.trim?function(n){return n.trim()}:function(){return s.replace(Pn,"")};function Bn(n){var e,t,r,a,o,i,l,u;return n=I(String(n)).toLowerCase(),(e=n.match(bn))?!(r=e[1])||r.length<3?[0,0,0,0]:r.length<6?[H(parseInt(r[0]+r[0],16)||0,0,255),H(parseInt(r[1]+r[1],16)||0,0,255),H(parseInt(r[2]+r[2],16)||0,0,255),1]:[H(parseInt(r[0]+r[1],16)||0,0,255),H(parseInt(r[2]+r[3],16)||0,0,255),H(parseInt(r[4]+r[5],16)||0,0,255),1]:(e=n.match(kn))?(t=e[2].match(Tn),l=(a=I(e[2]).split(Cn).map(I))[0]||"0",r=a[1]||"0",o=a[2]||"0",i=t?t[1]:"1",An(l=parseFloat(l,10),r="%"===r.slice(-1)?parseFloat(r,10):100*parseFloat(r,10)/255,o="%"===o.slice(-1)?parseFloat(o,10):100*parseFloat(o,10)/255,i="%"===i.slice(-1)?parseFloat(i,10)/100:parseFloat(i,10))):(e=n.match(xn))?(t=e[2].match(Tn),l=(a=I(e[2]).split(Cn).map(I))[0]||"0",n=a[1]||"0",u=a[2]||"0",i=t?t[1]:"hsla"===e[1]&&null!=a[3]?a[3]:"1",In(l=parseFloat(l,10),n="%"===n.slice(-1)?parseFloat(n,10):100*parseFloat(n,10)/255,u="%"===u.slice(-1)?parseFloat(u,10):100*parseFloat(u,10)/255,i="%"===i.slice(-1)?parseFloat(i,10)/100:parseFloat(i,10))):(e=n.match(wn))?(t=e[2].match(Tn),l=(a=I(e[2]).split(Cn).map(I))[0]||"0",u=a[1]||"0",o=a[2]||"0",i=t?t[1]:"rgba"===e[1]&&null!=a[3]?a[3]:"1",[l="%"===l.slice(-1)?2.55*parseFloat(l,10):parseFloat(l,10),u="%"===u.slice(-1)?2.55*parseFloat(u,10):parseFloat(u,10),o="%"===o.slice(-1)?2.55*parseFloat(o,10):parseFloat(o,10),i="%"===i.slice(-1)?parseFloat(i,10)/100:parseFloat(i,10)]):f.call(Dn,n)?Dn[n].slice():void 0}var Dn={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Sn(n){return n.reduce(function(n,e){return 2*n+e},0)}function Ln(n){for(var e=[],t=7;0<=t;--t)e.push(!!(n&1<<t));return e}function En(n,r){for(var e,t,a=0,o=[],i=1<<n,l=1+i,u=n+1,s=[];;)if(t=e,(e=function(n){for(var e=0,t=0;t<n;++t)r.charCodeAt(a>>3)&1<<(7&a)&&(e|=1<<t),++a;return e}(u))===i){f=void 0,s=[],u=n+1;for(var f=0;f<i;++f)s[f]=[f];s[i]=[],s[l]=null}else{if(e===l)break;if(e<s.length)t!==i&&s.push(s[t].concat(s[e][0]));else{if(e!==s.length)throw new Error("Invalid LZW code.");s.push(s[t].concat(s[t][0]))}o.push.apply(o,s[e]),s.length===1<<u&&u<12&&u++}return o}function zn(n){var e=this;e.data=n,e.len=e.data.length,e.pos=0,e.readByte=function(){if(this.pos>=this.data.length)throw new Error("Attempted to read past end of stream.");return n instanceof Uint8Array?n[this.pos++]:255&n.charCodeAt(this.pos++)},e.readBytes=function(n){for(var e=[],t=0;t<n;++t)e.push(this.readByte());return e},e.read=function(n){for(var e="",t=0;t<n;++t)e+=String.fromCharCode(this.readByte());return e},e.readUnsigned=function(){var n=this.readBytes(2);return(n[1]<<8)+n[0]}}function Fn(o,i){i=i||{};function l(){for(var n,e="";n=o.readByte(),e+=o.read(n),0!==n;);return e}var r=function(n){for(var e=[],t=0;t<n;++t)e.push(o.readBytes(3));return e},e=function(n){function e(n){var e;o.readByte(),n.identifier=o.read(8),n.authCode=o.read(3),"NETSCAPE"===n.identifier?(e=n,o.readByte(),e.unknown=o.readByte(),e.iterations=o.readUnsigned(),e.terminator=o.readByte(),i.app&&i.app.NETSCAPE&&i.app.NETSCAPE(e)):((e=n).appData=l(),i.app&&i.app[e.identifier]&&i.app[e.identifier](e))}var t,r;switch(n.label=o.readByte(),n.label){case 249:n.extType="gce",a=n,o.readByte(),r=Ln(o.readByte()),a.reserved=r.splice(0,3),a.disposalMethod=Sn(r.splice(0,3)),a.userInput=r.shift(),a.transparencyGiven=r.shift(),a.delayTime=o.readUnsigned(),a.transparencyIndex=o.readByte(),a.terminator=o.readByte(),i.gce&&i.gce(a);break;case 254:n.extType="com",(r=n).comment=l(),i.com&&i.com(r);break;case 1:n.extType="pte";var a=n;o.readByte(),a.ptHeader=o.readBytes(12),a.ptData=l(),i.pte&&i.pte(a);break;case 255:n.extType="app",e(n);break;default:n.extType="unknown",(t=n).data=l(),i.unknown&&i.unknown(t)}},t=function(n){function e(n,e){for(var t=new Array(n.length),r=n.length/e,a=[0,4,2,1],o=[8,8,4,2],i=0,l=0;l<4;++l)for(var u=a[l];u<r;u+=o[l]){var s=u,f=i;f=n.slice(f*e,(f+1)*e),t.splice.apply(t,[s*e,e].concat(f)),++i}return t}n.leftPos=o.readUnsigned(),n.topPos=o.readUnsigned(),n.width=o.readUnsigned(),n.height=o.readUnsigned();var t=Ln(o.readByte()),t=(n.lctFlag=t.shift(),n.interlaced=t.shift(),n.sorted=t.shift(),n.reserved=t.splice(0,2),n.lctSize=Sn(t.splice(0,3)),n.lctFlag&&(n.lct=r(1<<n.lctSize+1)),n.lzwMinCodeSize=o.readByte(),l());n.pixels=En(n.lzwMinCodeSize,t),n.interlaced&&(n.pixels=e(n.pixels,n.width)),i.img&&i.img(n)},a=function(){var n={};switch(n.sentinel=o.readByte(),String.fromCharCode(n.sentinel)){case"!":n.type="ext",e(n);break;case",":n.type="img",t(n);break;case";":n.type="eof",i.eof&&i.eof(n);break;default:throw new Error("Unknown block: 0x"+n.sentinel.toString(16))}"eof"!==n.type&&a()},n={};if(n.sig=o.read(3),n.ver=o.read(3),"GIF"!==n.sig)throw new Error("Not a GIF file.");n.width=o.readUnsigned(),n.height=o.readUnsigned();var u=Ln(o.readByte());n.gctFlag=u.shift(),n.colorRes=Sn(u.splice(0,3)),n.sorted=u.shift(),n.gctSize=Sn(u.splice(0,3)),n.bgColor=o.readByte(),n.pixelAspectRatio=o.readByte(),n.gctFlag&&(n.gct=r(1<<n.gctSize+1)),i.hdr&&i.hdr(n),a()}var Rn=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),Z=5793;function Gn(){}function qn(e,t,n,r,a,u,s,o,f){n.precision,n.samplesPerLine,n.scanLines;var i=n.mcusPerLine,G=n.progressive,q=(n.maxH,n.maxV,t),l=0,c=0;function h(){if(0<c)return l>>--c&1;if(255==(l=e[t++])){var n=e[t++];if(n)throw"unexpected marker: "+(l<<8|n).toString(16)}return l>>>(c=7)}function d(n){for(var e,t=n;null!=(e=h());){if("number"==typeof(t=t[e]))return t;if("object"!=typeof t)throw"invalid huffman sequence"}return null}function p(n){for(var e=0;0<n;){var t=h();if(null==t)return;e=e<<1|t,--n}return e}function m(n){var e=p(n);return 1<<n-1<=e?e:e+(-1<<n)+1}var g=0;var y,v=0;var b,w,x,k,C,T,I,A,P,O,B,D,U,S,_,L,E,z=r.length,N=G?0===u?0===o?function(n,e){var t=0===(t=d(n.huffmanTableDC))?0:m(t)<<f;e[0]=n.pred+=t}:function(n,e){e[0]|=h()<<f}:0===o?function(n,e){if(0<g)--g;else for(var t=u,r=s;t<=r;){var a=d(n.huffmanTableAC),o=15&a,a=a>>4;if(0==o){if(a<15){g=p(a)+(1<<a)-1;break}t+=16}else e[Rn[t+=a]]=m(o)*(1<<f),t++}}:function(n,e){for(var t=u,r=s,a=0;t<=r;){var o=Rn[t];switch(v){case 0:var i=d(n.huffmanTableAC),l=15&i,a=i>>4;if(0==l)v=a<15?(g=p(a)+(1<<a),4):(a=16,1);else{if(1!=l)throw"invalid ACn encoding";y=m(l),v=a?2:3}continue;case 1:case 2:e[o]?e[o]+=h()<<f:0===--a&&(v=2==v?3:0);break;case 3:e[o]?e[o]+=h()<<f:(e[o]=y<<f,v=0);break;case 4:e[o]&&(e[o]+=h()<<f)}t++}4===v&&0===--g&&(v=0)}:function(n,e){for(var t=0===(t=d(n.huffmanTableDC))?0:m(t),r=(e[0]=n.pred+=t,1);r<64;){var a=d(n.huffmanTableAC),o=15&a,a=a>>4;if(0==o){if(a<15)break;r+=16}else e[Rn[r+=a]]=m(o),r++}},F=0,R=1==z?r[0].blocksPerLine*r[0].blocksPerColumn:i*n.mcusPerColumn;for(a=a||R;F<R;){for(w=0;w<z;++w)r[w].pred=0;if(g=0,1==z)for(b=r[0],C=0;C<a;++C)_=N,E=void 0,E=(L=F)/(S=b).blocksPerLine|0,L%=S.blocksPerLine,_(S,S.blocks[E][L]),++F;else for(C=0;C<a;++C){for(w=0;w<z;++w)for(I=(b=r[w]).h,A=b.v,x=0;x<A;++x)for(k=0;k<I;++k)O=N,D=x,U=k,D=((B=F)/i|0)*(P=b).v+D,B=B%i*P.h+U,O(P,P.blocks[D][B]);if(++F===R)break}if(c=0,(T=e[t]<<8|e[t+1])<65280)throw"marker was not found";if(!(65488<=T&&T<=65495))break;t+=2}return t-q}function On(n,e){var t=[],r=e.blocksPerLine,a=e.blocksPerColumn,o=r<<3,i=new Int32Array(64),l=new Uint8Array(64);for(var u=0;u<a;++u){var s=u<<3;for(z=0;z<8;++z)t.push(new Uint8Array(o));for(var f=0;f<r;++f){B=P=A=I=T=b=v=y=g=m=p=d=h=c=C=k=x=w=void 0;for(var c,h,d,p,m,g,y,v,b,w=e.blocks[u][f],x=l,k=i,C=e.quantizationTable,T=k,I=0;I<64;++I)T[I]=w[I]*C[I];for(I=0;I<8;++I){var A=8*I;0==T[1+A]&&0==T[2+A]&&0==T[3+A]&&0==T[4+A]&&0==T[5+A]&&0==T[6+A]&&0==T[7+A]?(b=Z*T[0+A]+512>>10,T[0+A]=b,T[1+A]=b,T[2+A]=b,T[3+A]=b,T[4+A]=b,T[5+A]=b,T[6+A]=b,T[7+A]=b):(c=Z*T[0+A]+128>>8,h=Z*T[4+A]+128>>8,d=T[2+A],p=T[6+A],m=2896*(T[1+A]-T[7+A])+128>>8,v=2896*(T[1+A]+T[7+A])+128>>8,g=T[3+A]<<4,b=c-h+1>>1,c=c+h+1>>1,h=b,b=3784*d+1567*p+128>>8,d=1567*d-3784*p+128>>8,p=b,b=m-(y=T[5+A]<<4)+1>>1,m=m+y+1>>1,y=b,b=v+g+1>>1,g=v-g+1>>1,v=b,b=c-p+1>>1,c=c+p+1>>1,p=b,b=h-d+1>>1,h=h+d+1>>1,d=b,b=2276*m+3406*v+2048>>12,m=3406*m-2276*v+2048>>12,v=b,b=799*g+4017*y+2048>>12,g=4017*g-799*y+2048>>12,y=b,T[0+A]=c+v,T[7+A]=c-v,T[1+A]=h+y,T[6+A]=h-y,T[2+A]=d+g,T[5+A]=d-g,T[3+A]=p+m,T[4+A]=p-m)}for(I=0;I<8;++I){var P=I;0==T[8+P]&&0==T[16+P]&&0==T[24+P]&&0==T[32+P]&&0==T[40+P]&&0==T[48+P]&&0==T[56+P]?(b=Z*k[I+0]+8192>>14,T[0+P]=b,T[8+P]=b,T[16+P]=b,T[24+P]=b,T[32+P]=b,T[40+P]=b,T[48+P]=b,T[56+P]=b):(c=Z*T[0+P]+2048>>12,h=Z*T[32+P]+2048>>12,d=T[16+P],p=T[48+P],m=2896*(T[8+P]-T[56+P])+2048>>12,v=2896*(T[8+P]+T[56+P])+2048>>12,g=T[24+P],b=c-h+1>>1,c=c+h+1>>1,h=b,b=3784*d+1567*p+2048>>12,d=1567*d-3784*p+2048>>12,p=b,b=m-(y=T[40+P])+1>>1,m=m+y+1>>1,y=b,b=v+g+1>>1,g=v-g+1>>1,v=b,b=c-p+1>>1,c=c+p+1>>1,p=b,b=h-d+1>>1,h=h+d+1>>1,d=b,b=2276*m+3406*v+2048>>12,m=3406*m-2276*v+2048>>12,v=b,b=799*g+4017*y+2048>>12,g=4017*g-799*y+2048>>12,y=b,T[0+P]=c+v,T[56+P]=c-v,T[8+P]=h+y,T[48+P]=h-y,T[16+P]=d+g,T[40+P]=d-g,T[24+P]=p+m,T[32+P]=p-m)}for(I=0;I<64;++I){var B=128+(T[I]+8>>4);x[I]=B<0?0:255<B?255:B}for(var D=0,S=f<<3,L=0;L<8;++L)for(var E=t[s+L],z=0;z<8;++z)E[S+z]=l[D++]}}return t}function B(n){return n<0?0:255<n?255:n}function Un(n,e,t){var r,a=[];if(0<=n)for(r=0;r<n;++r)a.push(e[t.pos++]);else for(r=0;n<r;--r)a.push(e[t.pos++]);return a}Gn[n]={constructor:Gn,parse:function(e){var t=0;e.length;function n(){var n=e[t]<<8|e[t+1];return t+=2,n}var r,a,o=null,i=null,l=[],u=[],s=[],f=[],c=n();if(65496!=c)throw"SOI not found";for(c=n();65497!=c;){switch(c){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:void 0,L=void 0,L=n(),L=e.subarray(t,t+L-2),t+=L.length;65504===c&&74===L[0]&&70===L[1]&&73===L[2]&&70===L[3]&&0===L[4]&&(o={version:{major:L[5],minor:L[6]},densityUnits:L[7],xDensity:L[8]<<8|L[9],yDensity:L[10]<<8|L[11],thumbWidth:L[12],thumbHeight:L[13],thumbData:L.subarray(14,14+3*L[12]*L[13])}),65518===c&&65===L[0]&&100===L[1]&&111===L[2]&&98===L[3]&&101===L[4]&&0===L[5]&&(i={version:L[6],flags0:L[7]<<8|L[8],flags1:L[9]<<8|L[10],transformCode:L[11]});break;case 65499:for(var G=n()+t-2;t<G;){var h=e[t++],d=new Int32Array(64);if(h>>4==0)for(z=0;z<64;++z)d[Rn[z]]=e[t++];else{if(h>>4!=1)throw"DQT: invalid table spec";for(z=0;z<64;++z)d[Rn[z]]=n()}l[15&h]=d}break;case 65472:case 65473:case 65474:n(),(r={}).extended=65473===c,r.progressive=65474===c,r.precision=e[t++],r.scanLines=n(),r.samplesPerLine=n(),r.components={},r.componentsOrder=[];var q=e[t++];for(E=0;E<q;++E){var p=e[t],O=e[t+1]>>4,U=15&e[t+1],_=e[t+2];r.componentsOrder.push(p),r.components[p]={h:O,v:U,quantizationIdx:_},t+=3}D=B=P=A=I=T=C=k=w=b=m=x=v=y=g=void 0;var m,g=r,y=0,v=0;for(m in g.components)g.components.hasOwnProperty(m)&&(y<(x=g.components[m]).h&&(y=x.h),v<x.v)&&(v=x.v);var b=rn.ceil(g.samplesPerLine/8/y),w=rn.ceil(g.scanLines/8/v);for(m in g.components)if(g.components.hasOwnProperty(m)){for(var x=g.components[m],k=rn.ceil(rn.ceil(g.samplesPerLine/8)*x.h/y),C=rn.ceil(rn.ceil(g.scanLines/8)*x.v/v),T=b*x.h,I=w*x.v,A=[],P=0;P<I;++P){for(var B=[],D=0;D<T;++D)B.push(new Int32Array(64));A.push(B)}x.blocksPerLine=k,x.blocksPerColumn=C,x.blocks=A}g.maxH=y,g.maxV=v,g.mcusPerLine=b,g.mcusPerColumn=w,u.push(r);break;case 65476:var N=n();for(E=2;E<N;){var X=e[t++],M=new Uint8Array(16),S=0;for(z=0;z<16;++z,++t)S+=M[z]=e[t];var Y=new Uint8Array(S);for(z=0;z<S;++z,++t)Y[z]=e[t];E+=17+S,(X>>4==0?f:s)[15&X]=function(n,e){for(var t,r=0,a=[],o=16;0<o&&!n[o-1];)--o;a.push({children:[],index:0});for(var i,l=a[0],u=0;u<o;++u){for(t=0;t<n[u];++t){for((l=a.pop()).children[l.index]=e[r];0<l.index;)l=a.pop();for(++l.index,a.push(l);a.length<=u;)a.push(i={children:[],index:0}),l.children[l.index]=i.children,l=i;r++}u+1<o&&(a.push(i={children:[],index:0}),l.children[l.index]=i.children,l=i)}return a[0].children}(M,Y)}break;case 65501:n(),a=n();break;case 65498:n();var J=e[t++],j=[];for(E=0;E<J;++E){R=r.components[e[t++]];var H=e[t++];R.huffmanTableDC=f[H>>4],R.huffmanTableAC=s[15&H],j.push(R)}var L=e[t++],V=e[t++],W=e[t++],V=qn(e,t,r,j,a,L,V,W>>4,15&W);t+=V;break;default:if(255==e[t-3]&&192<=e[t-2]&&e[t-2]<=254){t-=3;break}throw"unknown JPEG marker "+c.toString(16)}c=n()}if(1!=u.length)throw"only single frame JPEGs supported";for(var E=0;E<u.length;++E){var z,F=u[E].components;for(z in F)F[z].quantizationTable=l[F[z].quantizationIdx],delete F[z].quantizationIdx}this.width=r.samplesPerLine,this.height=r.scanLines,this.jfif=o,this.adobe=i,this.components=[];for(E=0;E<r.componentsOrder.length;++E){var R=r.components[r.componentsOrder[E]];this.components.push({lines:On(0,R),scaleX:R.h/r.maxH,scaleY:R.v/r.maxV})}},getData:function(n,e){var t,r,a,o,i,l,u,s,f,c,h,d,p,m,g,y,v,b,w,x,k,C=this.width/n,T=this.height/e,I=0,A=n*e*this.components.length,P=new Uint8Array(A);switch(this.components.length){case 1:for(t=this.components[0],c=0;c<e;++c)for(i=t.lines[0|c*t.scaleY*T],f=0;f<n;++f)h=i[0|f*t.scaleX*C],P[I++]=h;break;case 2:for(t=this.components[0],r=this.components[1],c=0;c<e;++c)for(i=t.lines[0|c*t.scaleY*T],l=r.lines[0|c*r.scaleY*T],f=0;f<n;++f)h=i[0|f*t.scaleX*C],P[I++]=h,h=l[0|f*r.scaleX*C],P[I++]=h;break;case 3:for(k=!0,this.adobe&&this.adobe.transformCode?k=!0:void 0!==this.colorTransform&&(k=!!this.colorTransform),t=this.components[0],r=this.components[1],a=this.components[2],c=0;c<e;++c)for(i=t.lines[0|c*t.scaleY*T],l=r.lines[0|c*r.scaleY*T],u=a.lines[0|c*a.scaleY*T],f=0;f<n;++f)x=k?(h=i[0|f*t.scaleX*C],d=l[0|f*r.scaleX*C],b=B(h+1.402*((p=u[0|f*a.scaleX*C])-128)),w=B(h-.3441363*(d-128)-.71413636*(p-128)),B(h+1.772*(d-128))):(b=i[0|f*t.scaleX*C],w=l[0|f*r.scaleX*C],u[0|f*a.scaleX*C]),P[I++]=b,P[I++]=w,P[I++]=x;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";for(k=!1,this.adobe&&this.adobe.transformCode?k=!0:void 0!==this.colorTransform&&(k=!!this.colorTransform),t=this.components[0],r=this.components[1],a=this.components[2],o=this.components[3],c=0;c<e;++c)for(i=t.lines[0|c*t.scaleY*T],l=r.lines[0|c*r.scaleY*T],u=a.lines[0|c*a.scaleY*T],s=o.lines[0|c*o.scaleY*T],f=0;f<n;++f)k?(h=i[0|f*t.scaleX*C],d=l[0|f*r.scaleX*C],p=u[0|f*a.scaleX*C],m=s[0|f*o.scaleX*C],g=255-B(h+1.402*(p-128)),y=255-B(h-.3441363*(d-128)-.71413636*(p-128)),v=255-B(h+1.772*(d-128))):(g=i[0|f*t.scaleX*C],y=l[0|f*r.scaleX*C],v=u[0|f*a.scaleX*C],m=s[0|f*o.scaleX*C]),P[I++]=g,P[I++]=y,P[I++]=v,P[I++]=m;break;default:throw"Unsupported color mode"}return P},copyToImageData:function(n){var e,t,r,a,o,i,l,u,s=n.width,f=n.height,c=n.data,h=this.getData(s,f),d=0,p=0;switch(this.components.length){case 1:for(t=0;t<f;++t)for(e=0;e<s;++e)r=h[d++],c[p++]=r,c[p++]=r,c[p++]=r,c[p++]=255;break;case 3:for(t=0;t<f;++t)for(e=0;e<s;++e)i=h[d++],l=h[d++],u=h[d++],c[p++]=i,c[p++]=l,c[p++]=u,c[p++]=255;break;case 4:for(t=0;t<f;++t)for(e=0;e<s;++e)a=h[d++],o=h[d++],r=h[d++],i=255-B(a*(1-(a=h[d++])/255)+a),l=255-B(o*(1-a/255)+a),u=255-B(r*(1-a/255)+a),c[p++]=i,c[p++]=l,c[p++]=u,c[p++]=255;break;default:throw"Unsupported color mode"}}};var _n=function(n,e){var t=n[e.pos++];return n[e.pos++]|t<<8},h=function(n,e){var t=n[e.pos++],r=n[e.pos++],a=n[e.pos++];return n[e.pos++]|a<<8|r<<16|t<<24};function Nn(){}Nn[n]={constructor:Nn,data:null,pos:null,palette:null,imgData:null,transparency:null,animation:null,text:null,width:0,height:0,bits:null,colorType:null,compressionMethod:null,filterMethod:null,interlaceMethod:null,hasAlphaChannel:null,colors:null,colorSpace:null,pixelBitlength:null,readData:function(n){var e,t,r,a,o,i,l,u,s,f,c=this;for(c.data=n,c.pos=8,c.palette=[],c.imgData=[],c.transparency={},c.animation=null,c.text={},r=null;;){switch(e=h(c.data,c),o=function(){var n,e=[];for(n=0;n<4;++n)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(c).join("")){case"IHDR":c.width=h(c.data,c),c.height=h(c.data,c),c.bits=c.data[c.pos++],c.colorType=c.data[c.pos++],c.compressionMethod=c.data[c.pos++],c.filterMethod=c.data[c.pos++],c.interlaceMethod=c.data[c.pos++];break;case"acTL":c.animation={numFrames:h(c.data,c),numPlays:h(c.data,c)||an,frames:[]};break;case"PLTE":c.palette=Un(e,c.data,c);break;case"fcTL":r&&c.animation.frames.push(r),c.pos+=4,r={width:h(c.data,c),height:h(c.data,c),xOffset:h(c.data,c),yOffset:h(c.data,c)},l=_n(c.data,c),a=_n(c.data,c)||100,r.delay=1e3*l/a,r.disposeOp=c.data[c.pos++],r.blendOp=c.data[c.pos++],r.data=[];break;case"IDAT":case"fdAT":for("fdAT"===o&&(c.pos+=4,e-=4),n=(null!=r?r.data:void 0)||c.imgData,u=0;0<=e?u<e:e<u;0<=e?++u:--u)n.push(c.data[c.pos++]);break;case"tRNS":switch(c.transparency={},c.colorType){case 3:if(c.transparency.indexed=Un(e,c.data,c),0<(i=255-c.transparency.indexed.length))for(s=0;0<=i?s<i:i<s;0<=i?++s:--s)c.transparency.indexed.push(255);break;case 0:c.transparency.grayscale=Un(e,c.data,c)[0];break;case 2:c.transparency.rgb=Un(e,c.data,c)}break;case"tEXt":a=(l=Un(e,c.data,c)).indexOf(0),f=String.fromCharCode.apply(String,l.slice(0,a)),c.text[f]=String.fromCharCode.apply(String,l.slice(a+1));break;case"IEND":return r&&c.animation.frames.push(r),c.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(c),c.hasAlphaChannel=4===(f=c.colorType)||6===f,t=c.colors+(c.hasAlphaChannel?1:0),c.pixelBitlength=c.bits*t,c.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(c),void(c.imgData=new Uint8Array(c.imgData));default:c.pos+=e}if(c.pos+=4,c.pos>c.data.length)throw new Error("Incomplete or corrupt PNG file")}},decodePixels:async function(n){var e,t,r,a,o,i,l,u,s,f,c,h,d,p,m,g,y,v,b,w,x,k,C,T;if(0===(n=null==n?this.imgData:n).length)return new Uint8Array(0);for(k=n,T={chunkSize:null==C?16384:C},n=await new Promise(function(t){require("zlib").inflate(k instanceof Buffer?k:Buffer.from(k),T,function(n,e){t(n?null:e)})}),p=(f=this.pixelBitlength/8)*this.width,c=new Uint8Array(p*this.height),i=n.length,t=h=d=0;h<i;){switch(n[h++]){case 0:for(a=y=0;y<p;a=y+=1)c[t++]=n[h++];break;case 1:for(a=v=0;v<p;a=v+=1)e=n[h++],o=a<f?0:c[t-f],c[t++]=(e+o)%256;break;case 2:for(a=b=0;b<p;a=b+=1)e=n[h++],r=(a-a%f)/f,m=d&&c[(d-1)*p+r*f+a%f],c[t++]=(m+e)%256;break;case 3:for(a=w=0;w<p;a=w+=1)e=n[h++],r=(a-a%f)/f,o=a<f?0:c[t-f],m=d&&c[(d-1)*p+r*f+a%f],c[t++]=(e+Math.floor((o+m)/2))%256;break;case 4:for(a=x=0;x<p;a=x+=1)e=n[h++],r=(a-a%f)/f,o=a<f?0:c[t-f],0===d?m=g=0:(m=c[(d-1)*p+r*f+a%f],g=r&&c[(d-1)*p+(r-1)*f+a%f]),s=o+m-g,l=Math.abs(s-o),u=Math.abs(s-m),s=Math.abs(s-g),c[t++]=(e+(l<=u&&l<=s?o:u<=s?m:g))%256;break;default:throw new Error("Invalid filter algorithm: "+n[h-1])}d++}return c},decodePalette:function(){for(var n,e,t=this.palette,r=this.transparency.indexed||[],a=new Uint8Array((r.length||0)+t.length),o=0,i=(t.length,0),l=n=0,u=t.length;n<u;l=n+=3)a[o++]=t[l],a[o++]=t[l+1],a[o++]=t[l+2],a[o++]=null!=(e=r[i++])?e:255;return a},copyToImageData:function(n,e){var t,r,a,o,i,l,u,s,f=this,c=f.colors,h=null,d=f.hasAlphaChannel;if(f.palette.length&&(h=null!=(s=f._decodedPalette)?s:f._decodedPalette=f.decodePalette(),c=4,d=!0),l=(t=n.data||n).length,a=h||e,r=o=0,1===c)for(;r<l;)i=h?4*e[r/4]:o,u=a[i++],t[r++]=u,t[r++]=u,t[r++]=u,t[r++]=d?a[i++]:255,o=i;else for(;r<l;)i=h?4*e[r/4]:o,t[r++]=a[i++],t[r++]=a[i++],t[r++]=a[i++],t[r++]=d?a[i++]:255,o=i},decode:async function(){var n=new Uint8Array(this.width*this.height<<2);return this.copyToImageData(n,await this.decodePixels()),n}};var Xn=[137,80,78,71,13,10,26,10],Mn=2,Yn=6,Jn={0:1,2:3,3:1,4:2,6:4};function w(n){return rn.max(0,rn.min(255,rn.round(n)))}function jn(n,e,t){var r=n+e-t,a=rn.abs(r-n),o=rn.abs(r-e),r=rn.abs(r-t);return a<=o&&a<=r?n:o<=r?e:t}function Hn(n,e,t,r,a){n.copy(r,a,e,e+t)}function Vn(n,e,t){for(var r=0,a=e+t,o=e;o<a;o++)r+=rn.abs(n[o]);return r}function Wn(n,e,t,r,a,o){for(var i=0;i<t;i++){var l=o<=i?n[e+i-o]:0,l=n[e+i]-l;r[a+i]=255&l}}function Qn(n,e,t,r){for(var a=0,o=0;o<t;o++){var i=r<=o?n[e+o-r]:0,i=n[e+o]-i;a+=rn.abs(i)}return a}function $n(n,e,t,r,a){for(var o=0;o<t;o++){var i=0<e?n[e+o-t]:0,i=n[e+o]-i;r[a+o]=255&i}}function Zn(n,e,t){for(var r=0,a=e+t,o=e;o<a;o++){var i=0<e?n[o-t]:0,i=n[o]-i;r+=rn.abs(i)}return r}function Kn(n,e,t,r,a,o){for(var i=0;i<t;i++){var l=o<=i?n[e+i-o]:0,u=0<e?n[e+i-t]:0,l=n[e+i]-(l+u>>1);r[a+i]=255&l}}function ne(n,e,t,r){for(var a=0,o=0;o<t;o++){var i=r<=o?n[e+o-r]:0,l=0<e?n[e+o-t]:0,i=n[e+o]-(i+l>>1);a+=rn.abs(i)}return a}function ee(n,e,t,r,a,o){for(var i=0;i<t;i++){var l=o<=i?n[e+i-o]:0,u=0<e?n[e+i-t]:0,s=0<e&&o<=i?n[e+i-(t+o)]:0,l=n[e+i]-jn(l,u,s);r[a+i]=255&l}}function te(n,e,t,r){for(var a=0,o=0;o<t;o++){var i=r<=o?n[e+o-r]:0,l=0<e?n[e+o-t]:0,u=0<e&&r<=o?n[e+o-(t+r)]:0,i=n[e+o]-jn(i,l,u);a+=rn.abs(i)}return a}var re=null;function ae(n){for(var e=function(){var n,e,t;if(null==re)for(re=new Int32Array(256),n=0;n<256;++n){for(t=n,e=0;e<8;++e)t=1&t?3988292384^t>>>1:t>>>1;re[n]=t}return re}(),t=-1,r=0,a=n.length;r<a;++r)t=e[255&(t^n[r])]^t>>>8;return-1^t}function oe(n,e=null,t=0){(e=null==e?Buffer.alloc(1):e)[t=null==t?0:t]=255&n}function ie(n,e=null,t=0){return(e=null==e?Buffer.alloc(4):e).writeUInt32BE(4294967295&n,t=null==t?0:t),e}function le(n){if((n=n||{}).deflateChunkSize=rn.max(1024,parseInt(n.deflateChunkSize||32768)),n.deflateLevel=rn.min(9,rn.max(0,parseInt(null!=n.deflateLevel?n.deflateLevel:9))),n.deflateStrategy=rn.min(3,rn.max(0,parseInt(null!=n.deflateStrategy?n.deflateStrategy:3))),n.inputHasAlpha=!(null!=n.inputHasAlpha&&!n.inputHasAlpha),n.bitDepth=8,n.colorType=rn.min(6,rn.max(0,parseInt("number"==typeof n.colorType?n.colorType:Yn))),n.colorType!==Mn&&n.colorType!==Yn)throw new Error("option color type:"+n.colorType+" is not supported at present");this._options=n}async function ue(n,e,t,r,a){return a=a||{},"base64"!==n?new le(a).toPNG(e,t,r):c?"data:image/png;base64,"+(await new le(a).toPNG(e,t,r)).toString("base64"):o?(a=(n=document.createElement("canvas")).getContext("2d"),n.width=t,n.height=r,a.createImageData(t,r),(t=a.getImageData(0,0,t,r)).data.set(e,0),a.putImageData(t,0,0),n.toDataURL("image/png")):""}function u(){var t=this,e="",r=0,a=0,o=null,i=function(n){if(!n instanceof Error&&(n=new Error(String(n))),!t.onerror)throw n;t.onerror(n)},l=function(n){var e;if(n)return(e=u.Reader[u.detectImageType(n)])?void e(n).then(function(n){r=(o=n).width,a=n.height,t.onload&&t.onload()}).catch(i):i("Image file type is not supported!")};R(t,"width",{get:function(){return r},set:function(n){}}),R(t,"height",{get:function(){return a},set:function(n){}}),R(t,"naturalWidth",{get:function(){return r},set:function(n){}}),R(t,"naturalHeight",{get:function(){return a},set:function(n){}}),R(t,"src",{get:function(){return e},set:function(n){"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer||"undefined"!=typeof Buffer&&n instanceof Buffer?l(e=n):"undefined"!=typeof Blob&&n instanceof Blob||"undefined"!=typeof Buffer&&Buffer.Blob&&n instanceof Buffer.Blob?(e=n).arrayBuffer().then(l).catch(i):("string"==typeof n||n instanceof String)&&(/^data:image\/[a-z]+;base64,/.test(n)?l(function(n){if("undefined"!=typeof Buffer)return Buffer.from(n,"base64");if("function"==typeof atob){for(var e=atob(n),t=e.length,r=new Uint8Array(t),a=0;a<t;++a)r[a]=e.charCodeAt(a);return r.buffer}}((e=n).slice(n.indexOf(";base64,")+8))):c&&require("fs").readFile(e=n,function(n,e){n?i(n):l(e)}))}}),t.getImageData=function(){return o}}function K(e,t){var r,a,o,n=this;if(!(n instanceof K))return new K(e,t);o=function(){e=e||0,t=t||0,a&&a.dispose(),r={width:e,height:t,data:new O(e*t<<2)},a=new _(e,t,_.setRGBATo(r))},R(n,"width",{get:function(){return e},set:function(n){!G(n=+n)&&q(n)&&0<=n&&e!==n&&(e=n,o())}}),R(n,"height",{get:function(){return t},set:function(n){!G(n=+n)&&q(n)&&0<=n&&t!==n&&(t=n,o())}}),n.getContext=function(n){return a.getContext(n)},n.toDataURL=async function(n,e){return ue("base64",r.data,r.width,r.height)},n.toBlob=function(e){var t;"function"==typeof e&&(t="undefined"!=typeof Blob?Blob:"undefined"!=typeof Buffer&&Buffer.Blob?Buffer.Blob:null)&&ue("binary",r.data,r.width,r.height).then(function(n){e(new t([n],{type:"image/png"}))}).catch(i)},n.toPNG=async function(){return ue("binary",r.data,r.width,r.height)},o()}return le[n]={_options:null,constructor:le,toPNG:async function(n,e,t){var r,a,o=[];if(o.push(Buffer.from(Xn)),o.push(this.packIHDR(e,t)),this._options.gamma&&o.push(this.packGAMA(this._options.gamma)),n=this.filterData(Buffer.from(n),e,t),e=this.getDeflateOptions(),r=n,t=e.level,n=e.chuckSize,a={chunkSize:null==n?16384:n},null!=t&&(a.level=t),(e=await new Promise(function(t){require("zlib").deflate(r instanceof Buffer?r:Buffer.from(r),a,function(n,e){t(n?null:e)})}))&&e.length)return o.push(this.packIDAT(Buffer.from(e))),e=null,o.push(this.packIEND()),Buffer.concat(o);throw new Error("bad png - invalid compressed data response")},getDeflateOptions:function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},filterData:function(n,e,t){return this._filter(this._bitPack(n,e,t),e,t)},packIHDR:function(n,e){var t=Buffer.alloc(13);return ie(n,t,0),ie(e,t,4),oe(this._options.bitDepth,t,8),oe(this._options.colorType,t,9),oe(0,t,10),oe(0,t,11),oe(0,t,12),this._packChunk(1229472850,t)},packGAMA:function(n){return this._packChunk(1732332865,ie(rn.floor(1e5*parseFloat(n))))},packIDAT:function(n){return this._packChunk(1229209940,n)},packIEND:function(){return this._packChunk(1229278788,null)},_bitPack:function(n,e,t){var r=this._options.inputHasAlpha,a=this._options.colorType===Yn;if(r&&a)return n;if(!r&&!a)return n;for(var o,i,l,u,s,f=a?4:3,c=Buffer.alloc(e*t*f),h=r?4:3,d=0,p=0,m=this._options.bgColor||{},g=w(null!=m.red?m.red:255),y=w(null!=m.green?m.green:255),v=w(null!=m.blue?m.blue:255),b=0;b<t;b++)for(o=0;o<e;o++)i=n[d],l=n[d+1],u=n[d+2],r?(s=n[d+3],a||(i=(1-(s/=255))*g+s*i,l=(1-s)*y+s*l,u=(1-s)*v+s*u)):s=255,c[p]=w(i),c[p+1]=w(l),c[p+2]=w(u),a&&(c[p+3]=w(s)),d+=h,p+=f;return c},_filter:function(n,e,t){for(var r,a,o,i=[Hn,Wn,$n,Kn,ee],l=[Vn,Qn,Zn,ne,te],u=[0],s=Jn[this._options.colorType],f=e*s,c=0,h=0,d=Buffer.alloc((1+f)*t),p=u[0],m=u.length,g=0;g<t;g++){if(1<m)for(a=1/0,r=0;r<m;r++)(o=l[u[r]](n,h,f,s))<a&&(p=u[r],a=o);i[d[c]=p](n,h,f,d,++c,s),c+=f,h+=f}return d},_packChunk:function(n,e){var t=e?e.length:0,r=Buffer.alloc(t+12);return ie(t,r,0),ie(n,r,4),e&&e.copy(r,8),[t,n=null,e]=[ae(r.slice(4,r.length-4)),r,r.length-4],(n=null==n?Buffer.alloc(4):n).writeInt32BE(t,e=null==e?0:e),r}},u[n]={constructor:u,width:0,height:0,naturalWidth:0,naturalHeight:0,src:"",onload:null,onerror:null,getImageData:null},u.Reader={NOT_SUPPORTED:null,GIF:async function(n,e){var a,o=null,i={width:0,height:0,data:null};return Fn(new zn(new Uint8Array(n)),{hdr:function(n){a=n},gce:function(n){o=n.transparencyGiven?n.transparencyIndex:null},img:function(n){var t=n.lctFlag?n.lct:a.gct,r=new O(n.width*n.height<<2);n.pixels.forEach(function(n,e){e<<=2;n!==o&&(r[e]=t[n][0],r[1+e]=t[n][1],r[2+e]=t[n][2],r[3+e]=255)}),i.width=n.width,i.height=n.height,i.data=r}}),i},JPG:async function(n,e){var t=new Gn;return t.parse(new Uint8Array(n)),n={width:t.width,height:t.height,data:new Uint8Array(t.width*t.height<<2)},t.copyToImageData(n),n},PNG:async function(n,e){var t=new Nn;return t.readData(new Uint8Array(n)),{width:t.width,height:t.height,data:await t.decode()}}},u.detectImageType=function(n){function e(n){return n<t.length?t[n]:0}var t=new Uint8Array(n[n.subarray?"subarray":"slice"](0,8));return 137===e(0)&&80===e(1)&&78===e(2)&&71===e(3)&&13===e(4)&&10===e(5)&&26===e(6)&&10===e(7)?"PNG":71!==e(0)||73!==e(1)||70!==e(2)||56!==e(3)||55!==e(4)&&57!==e(4)||97!==e(5)?255===e(0)&&216===e(1)?"JPG":"NOT_SUPPORTED":"GIF"},K[n]={constructor:K,width:0,height:0,getContext:null,toDataURL:null,toBlob:null,toPNG:null},K.VERSION="1.0.0",K.Image=u,K.RenderingContext2D=_.RenderingContext2D,K});